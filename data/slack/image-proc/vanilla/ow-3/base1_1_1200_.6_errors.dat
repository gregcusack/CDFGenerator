ok: got activation f530a9381bb344c3b0a9381bb364c3ba { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.7", "subject": "guest", "activationId": "f530a9381bb344c3b0a9381bb364c3ba", "start": 1643163273727, "end": 1643163333787, "duration": 60060, "statusCode": 2, "response": { "status": "action developer error", "statusCode": 0, "success": false, "result": { "error": "The action exceeded its time limits of 60000 milliseconds." } }, "logs": [ "2022-01-26T02:14:33.727781496Z stdout: ExtractImageMetadata invoked", "2022-01-26T02:14:33.728737715Z stdout: Jan 26, 2022 2:14:33 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:14:33.728756301Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:14:43.829252593Z stdout: TransformMetadata invoked", "2022-01-26T02:14:43.82935915Z stdout: Handler invoked", "2022-01-26T02:14:43.829808679Z stdout: Jan 26, 2022 2:14:43 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:14:43.82982522Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:14:44.055796898Z stdout: Thumbnail invoked", "2022-01-26T02:14:44.056681678Z stdout: Jan 26, 2022 2:14:44 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:14:44.056697983Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:14:59.842278546Z stdout: Jan 26, 2022 2:14:59 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:14:59.842337749Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:15:22.585801893Z stdout: StoreImageMetadata invoked", "2022-01-26T02:15:22.585808337Z stdout: Document Conflict Exception when writing thumbnail; ignoring...", "2022-01-26T02:15:22.586372817Z stdout: Jan 26, 2022 2:15:22 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:15:22.5863943Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:15:33.787333338Z stderr: The action did not initialize or run as expected. Log data might be missing." ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 6 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": true }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 9ce3efb1115149d2a3efb1115169d2c4 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.7", "subject": "guest", "activationId": "9ce3efb1115149d2a3efb1115169d2c4", "start": 1643163284548, "end": 1643163315527, "duration": 30979, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.111.54.126:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 14504, 0, 1526 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "387290716463770", "startTimes": [ "2022-01-26 02:14:44.551", "2022-01-26 02:15:00.523", "2022-01-26 02:15:00.523", "2022-01-26 02:15:02.049" ] } }, "logs": [ "2022-01-26T02:14:44.551626384Z stdout: ExtractImageMetadata invoked", "2022-01-26T02:14:44.553724342Z stdout: Jan 26, 2022 2:14:44 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:14:44.553763089Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:15:00.523486955Z stdout: TransformMetadata invoked", "2022-01-26T02:15:00.523660771Z stdout: Handler invoked", "2022-01-26T02:15:00.524282938Z stdout: Jan 26, 2022 2:15:00 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:15:00.524303264Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:15:02.049625479Z stdout: Thumbnail invoked", "2022-01-26T02:15:02.051965277Z stdout: Jan 26, 2022 2:15:02 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:15:02.052006022Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:15:15.51273172Z stdout: Database failure", "2022-01-26T02:15:15.512804509Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.111.54.126:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T02:15:15.51294422Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T02:15:15.512977286Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T02:15:15.513004822Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T02:15:15.513022792Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T02:15:15.513039466Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T02:15:15.513057436Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-26T02:15:15.513074947Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T02:15:15.513159547Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-26T02:15:15.51318564Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T02:15:15.513201539Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T02:15:15.513216551Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T02:15:15.513231739Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T02:15:15.513258245Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:15.513274996Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T02:15:15.513289329Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T02:15:15.513341256Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T02:15:15.513389559Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:15.513407858Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T02:15:15.513813134Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T02:15:15.513855754Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T02:15:15.513870714Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T02:15:15.513889982Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T02:15:15.526961646Z stdout: main function failed", "2022-01-26T02:15:15.526988048Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T02:15:15.527071597Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T02:15:15.52708178Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-26T02:15:15.527096632Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T02:15:15.527103335Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-26T02:15:15.527108487Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T02:15:15.527113384Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T02:15:15.52711934Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T02:15:15.527129071Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T02:15:15.527137244Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:15.527142771Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T02:15:15.527150481Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T02:15:15.527166343Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T02:15:15.527172618Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:15.527178396Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T02:15:15.527202321Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T02:15:15.527211483Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T02:15:15.527232646Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T02:15:15.527241062Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T02:15:15.527257606Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T02:15:15.527356159Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T02:15:15.527366556Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T02:15:15.527372257Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T02:15:15.527391239Z stdout: \t... 17 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 5 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 881c3829cfc84c9b9c3829cfc8bc9b9e { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.7", "subject": "guest", "activationId": "881c3829cfc84c9b9c3829cfc8bc9b9e", "start": 1643163285754, "end": 1643163315525, "duration": 29771, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.111.54.126:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 13335, 0, 1323 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "387290919161422", "startTimes": [ "2022-01-26 02:14:45.757", "2022-01-26 02:15:00.726", "2022-01-26 02:15:00.726", "2022-01-26 02:15:02.049" ] } }, "logs": [ "2022-01-26T02:14:45.757501291Z stdout: ExtractImageMetadata invoked", "2022-01-26T02:14:45.758683242Z stdout: Jan 26, 2022 2:14:45 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:14:45.75872134Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:15:00.726175883Z stdout: TransformMetadata invoked", "2022-01-26T02:15:00.7263929Z stdout: Handler invoked", "2022-01-26T02:15:00.727118216Z stdout: Jan 26, 2022 2:15:00 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:15:00.72713998Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:15:02.04964632Z stdout: Thumbnail invoked", "2022-01-26T02:15:02.051727524Z stdout: Jan 26, 2022 2:15:02 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:15:02.051768962Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:15:15.513736659Z stdout: Database failure", "2022-01-26T02:15:15.514847792Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.111.54.126:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T02:15:15.515224344Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T02:15:15.515253874Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T02:15:15.515271795Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T02:15:15.515287666Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T02:15:15.51530546Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T02:15:15.515316931Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-26T02:15:15.515327929Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T02:15:15.515400218Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-26T02:15:15.515419569Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T02:15:15.515436696Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T02:15:15.515456653Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T02:15:15.515468656Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T02:15:15.515479838Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:15.515491426Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T02:15:15.515504168Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T02:15:15.5155378Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T02:15:15.515552791Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:15.515562638Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T02:15:15.515573555Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T02:15:15.515584401Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T02:15:15.515600174Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T02:15:15.515647381Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T02:15:15.525425425Z stdout: main function failed", "2022-01-26T02:15:15.525453801Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T02:15:15.525497913Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T02:15:15.525507318Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-26T02:15:15.525512664Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T02:15:15.525518451Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-26T02:15:15.525527911Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T02:15:15.525536902Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T02:15:15.525559346Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T02:15:15.525567298Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T02:15:15.525595173Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:15.525604888Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T02:15:15.525612843Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T02:15:15.525624607Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T02:15:15.525632311Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:15.525640417Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T02:15:15.525649834Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T02:15:15.525658428Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T02:15:15.525667283Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T02:15:15.525684269Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T02:15:15.5257023Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T02:15:15.525806386Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T02:15:15.525815543Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T02:15:15.525820846Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T02:15:15.52583563Z stdout: \t... 17 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 6 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 141fc598730542509fc59873057250b3 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.7", "subject": "guest", "activationId": "141fc598730542509fc59873057250b3", "start": 1643163286958, "end": 1643163303837, "duration": 16879, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.111.54.126:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 456, 0, 311 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "387279330780544", "startTimes": [ "2022-01-26 02:14:46.961", "2022-01-26 02:14:49.137", "2022-01-26 02:14:49.137", "2022-01-26 02:14:49.449" ] } }, "logs": [ "2022-01-26T02:14:46.961887615Z stdout: ExtractImageMetadata invoked", "2022-01-26T02:14:46.964934853Z stdout: Jan 26, 2022 2:14:46 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:14:46.9649717Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:14:49.137702567Z stdout: TransformMetadata invoked", "2022-01-26T02:14:49.137977869Z stdout: Handler invoked", "2022-01-26T02:14:49.139213859Z stdout: Jan 26, 2022 2:14:49 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:14:49.139238902Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:14:49.449825082Z stdout: Thumbnail invoked", "2022-01-26T02:14:49.451676926Z stdout: Jan 26, 2022 2:14:49 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:14:49.451721537Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:15:03.827093396Z stdout: Database failure", "2022-01-26T02:15:03.827905175Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.111.54.126:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T02:15:03.828048845Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T02:15:03.82806715Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T02:15:03.828079766Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T02:15:03.828092654Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T02:15:03.828099151Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T02:15:03.828132143Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-26T02:15:03.828143357Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T02:15:03.828188134Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-26T02:15:03.828196165Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T02:15:03.828221305Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T02:15:03.828231387Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T02:15:03.828237637Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T02:15:03.82826587Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:03.828286011Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T02:15:03.828310926Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T02:15:03.828316881Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T02:15:03.828322126Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:03.82832704Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T02:15:03.828344155Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T02:15:03.828364866Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T02:15:03.828379668Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T02:15:03.828411743Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T02:15:03.83683406Z stdout: main function failed", "2022-01-26T02:15:03.836884288Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T02:15:03.836979769Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T02:15:03.836989158Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-26T02:15:03.837016953Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T02:15:03.837023421Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-26T02:15:03.837040754Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T02:15:03.837062454Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T02:15:03.837080739Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T02:15:03.837093268Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T02:15:03.837102666Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:03.837125993Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T02:15:03.837134936Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T02:15:03.837155179Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T02:15:03.837163128Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:03.837168182Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T02:15:03.837172944Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T02:15:03.837178581Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T02:15:03.837183559Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T02:15:03.837194477Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T02:15:03.837218096Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T02:15:03.837315379Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T02:15:03.83732365Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T02:15:03.837347101Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T02:15:03.837368794Z stdout: \t... 17 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 5 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 619135933aae4bea9135933aae7beaed { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.7", "subject": "guest", "activationId": "619135933aae4bea9135933aae7beaed", "start": 1643163287554, "end": 1643163303835, "duration": 16281, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.111.54.126:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 263, 0, 460 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "387278316828803", "startTimes": [ "2022-01-26 02:14:47.555", "2022-01-26 02:14:49.222", "2022-01-26 02:14:49.222", "2022-01-26 02:14:49.682" ] } }, "logs": [ "2022-01-26T02:14:47.555334114Z stdout: ExtractImageMetadata invoked", "2022-01-26T02:14:47.556431141Z stdout: Jan 26, 2022 2:14:47 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:14:47.556466245Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:14:49.222676604Z stdout: TransformMetadata invoked", "2022-01-26T02:14:49.22275638Z stdout: Handler invoked", "2022-01-26T02:14:49.223162143Z stdout: Jan 26, 2022 2:14:49 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:14:49.223179333Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:14:49.682157206Z stdout: Thumbnail invoked", "2022-01-26T02:14:49.682871673Z stdout: Jan 26, 2022 2:14:49 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:14:49.682888307Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:15:03.824493134Z stdout: Database failure", "2022-01-26T02:15:03.824980458Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.111.54.126:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T02:15:03.825053837Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T02:15:03.825063702Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T02:15:03.825073347Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T02:15:03.825079205Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T02:15:03.825087413Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T02:15:03.825093493Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-26T02:15:03.825100257Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T02:15:03.825134764Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-26T02:15:03.82515167Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T02:15:03.825167855Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T02:15:03.825173406Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T02:15:03.825178342Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T02:15:03.825230282Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:03.825265102Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T02:15:03.825270873Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T02:15:03.825276167Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T02:15:03.825281562Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:03.825286567Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T02:15:03.825297284Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T02:15:03.825302786Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T02:15:03.825307729Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T02:15:03.825312474Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T02:15:03.833670693Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T02:15:03.83369555Z stdout: main function failed", "2022-01-26T02:15:03.833720632Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T02:15:03.833737694Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-26T02:15:03.833743363Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T02:15:03.833766701Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-26T02:15:03.83377256Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T02:15:03.833777715Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T02:15:03.833783732Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T02:15:03.833788545Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T02:15:03.833794419Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:03.833799979Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T02:15:03.83382455Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T02:15:03.833859449Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T02:15:03.833867478Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:03.833872572Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T02:15:03.833877306Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T02:15:03.833882123Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T02:15:03.8338874Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T02:15:03.833892065Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T02:15:03.833920999Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T02:15:03.834051356Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T02:15:03.834060745Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T02:15:03.834201362Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T02:15:03.834244343Z stdout: \t... 17 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 6 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 82489944d95b4c16889944d95bec1663 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.7", "subject": "guest", "activationId": "82489944d95b4c16889944d95bec1663", "start": 1643163289349, "end": 1643163303843, "duration": 14494, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.111.54.126:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 14475 ], "imageName": "test.jpg", "startTimes": [ "2022-01-26 02:14:49.351" ] } }, "logs": [ "2022-01-26T02:14:49.351662237Z stdout: ExtractImageMetadata invoked", "2022-01-26T02:14:49.353435325Z stdout: Jan 26, 2022 2:14:49 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:14:49.353451105Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:15:03.826294538Z stdout: Database failure", "2022-01-26T02:15:03.827213759Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.111.54.126:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T02:15:03.827333957Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T02:15:03.827362008Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T02:15:03.827520674Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T02:15:03.827532241Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T02:15:03.827537328Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T02:15:03.82754221Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-26T02:15:03.82757403Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T02:15:03.827640552Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-26T02:15:03.827653499Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T02:15:03.827666549Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T02:15:03.827677009Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T02:15:03.827693287Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T02:15:03.827738544Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:03.827750771Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T02:15:03.827762019Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T02:15:03.827782619Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T02:15:03.82779297Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:03.827839936Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T02:15:03.827853266Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T02:15:03.827872774Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T02:15:03.827881647Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T02:15:03.827907452Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T02:15:03.842175071Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T02:15:03.842217258Z stdout: main function failed", "2022-01-26T02:15:03.84228597Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-26T02:15:03.842324264Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-26T02:15:03.842334294Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-26T02:15:03.842342957Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T02:15:03.842350897Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-26T02:15:03.842388915Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T02:15:03.842398803Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T02:15:03.842406546Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T02:15:03.842414233Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T02:15:03.842421799Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:03.842429249Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T02:15:03.842462326Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T02:15:03.842492347Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T02:15:03.842501015Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:03.84250826Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T02:15:03.842520012Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T02:15:03.842527384Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T02:15:03.842533954Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T02:15:03.842540884Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T02:15:03.84254977Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T02:15:03.842691257Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T02:15:03.84270914Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-26T02:15:03.842750699Z stdout: \t... 18 more", "2022-01-26T02:15:03.842771779Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T02:15:03.842916917Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T02:15:03.842928623Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T02:15:03.842936179Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T02:15:03.842944515Z stdout: \t... 19 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 6 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 273721360a3d4d4fb721360a3d8d4f09 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.7", "subject": "guest", "activationId": "273721360a3d4d4fb721360a3d8d4f09", "start": 1643163291163, "end": 1643163315531, "duration": 24368, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.111.54.126:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 7535, 0, 1513 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "387291719847281", "startTimes": [ "2022-01-26 02:14:51.166", "2022-01-26 02:15:00.537", "2022-01-26 02:15:00.537", "2022-01-26 02:15:02.050" ] } }, "logs": [ "2022-01-26T02:14:51.166356303Z stdout: ExtractImageMetadata invoked", "2022-01-26T02:14:51.168783142Z stdout: Jan 26, 2022 2:14:51 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:14:51.168824139Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:15:00.537668191Z stdout: TransformMetadata invoked", "2022-01-26T02:15:00.537800053Z stdout: Handler invoked", "2022-01-26T02:15:00.538536508Z stdout: Jan 26, 2022 2:15:00 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:15:00.538563322Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:15:02.050287491Z stdout: Thumbnail invoked", "2022-01-26T02:15:02.052832295Z stdout: Jan 26, 2022 2:15:02 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:15:02.052878869Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:15:15.513004022Z stdout: Database failure", "2022-01-26T02:15:15.514029688Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.111.54.126:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T02:15:15.514222935Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T02:15:15.514280205Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T02:15:15.514323866Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T02:15:15.514334906Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T02:15:15.514362057Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T02:15:15.514371252Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-26T02:15:15.514379932Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T02:15:15.514390175Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T02:15:15.5144016Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T02:15:15.514412821Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T02:15:15.514445436Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T02:15:15.514482887Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T02:15:15.514498322Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T02:15:15.514532611Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:15.514541273Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T02:15:15.514551326Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T02:15:15.514560584Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T02:15:15.514570254Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:15.514605863Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T02:15:15.514618702Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T02:15:15.514658504Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T02:15:15.514673102Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T02:15:15.514693719Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T02:15:15.529808032Z stdout: main function failed", "2022-01-26T02:15:15.52988584Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T02:15:15.529921727Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T02:15:15.529933564Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-26T02:15:15.529944023Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T02:15:15.529953802Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T02:15:15.529963168Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T02:15:15.529973298Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T02:15:15.529986486Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T02:15:15.529996234Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T02:15:15.530006258Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T02:15:15.530016219Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:15.530028499Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T02:15:15.530038471Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T02:15:15.53004781Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T02:15:15.530057672Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:15.530069571Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T02:15:15.530078814Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T02:15:15.530105679Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T02:15:15.530118719Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T02:15:15.530128532Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T02:15:15.530140945Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T02:15:15.530279632Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T02:15:15.530295251Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T02:15:15.530302193Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T02:15:15.530340475Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 4 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation c5050dafd7694c86850dafd7695c869d { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.7", "subject": "guest", "activationId": "c5050dafd7694c86850dafd7695c869d", "start": 1643163292971, "end": 1643163315525, "duration": 22554, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.111.54.126:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 6081, 0, 1534 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "387290708528750", "startTimes": [ "2022-01-26 02:14:52.974", "2022-01-26 02:15:00.515", "2022-01-26 02:15:00.515", "2022-01-26 02:15:02.049" ] } }, "logs": [ "2022-01-26T02:14:52.974670663Z stdout: ExtractImageMetadata invoked", "2022-01-26T02:14:52.977128854Z stdout: Jan 26, 2022 2:14:52 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:14:52.977170982Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:15:00.515464333Z stdout: TransformMetadata invoked", "2022-01-26T02:15:00.515555894Z stdout: Handler invoked", "2022-01-26T02:15:00.516428882Z stdout: Jan 26, 2022 2:15:00 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:15:00.516449791Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:15:02.05000871Z stdout: Thumbnail invoked", "2022-01-26T02:15:02.052288674Z stdout: Jan 26, 2022 2:15:02 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:15:02.052335685Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:15:15.512834826Z stdout: Database failure", "2022-01-26T02:15:15.513823547Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.111.54.126:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T02:15:15.514064419Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T02:15:15.514127233Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T02:15:15.514152523Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T02:15:15.514191866Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T02:15:15.514211411Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T02:15:15.514224673Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-26T02:15:15.514234618Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T02:15:15.51427171Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T02:15:15.514289791Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T02:15:15.514302154Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T02:15:15.514312274Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T02:15:15.514394678Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T02:15:15.514414281Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T02:15:15.514424278Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:15.514435186Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T02:15:15.514454722Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T02:15:15.51446896Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T02:15:15.5144816Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:15.514491982Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T02:15:15.514517533Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T02:15:15.514569777Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T02:15:15.514596578Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T02:15:15.514612868Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T02:15:15.525422394Z stdout: main function failed", "2022-01-26T02:15:15.525452539Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T02:15:15.525545445Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T02:15:15.525557159Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-26T02:15:15.525565595Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T02:15:15.525573411Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T02:15:15.52559397Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T02:15:15.525615799Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T02:15:15.525640349Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T02:15:15.525653774Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T02:15:15.525662768Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T02:15:15.525670714Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:15.52567975Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T02:15:15.525688059Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T02:15:15.525695898Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T02:15:15.525705224Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:15.525712446Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T02:15:15.525719805Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T02:15:15.525727393Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T02:15:15.525733496Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T02:15:15.525738516Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T02:15:15.525760696Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T02:15:15.525870966Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T02:15:15.525886Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T02:15:15.525892258Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T02:15:15.525915473Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 5 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 56965c72184949ed965c72184969edd4 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.7", "subject": "guest", "activationId": "56965c72184949ed965c72184969edd4", "start": 1643163300780, "end": 1643163315531, "duration": 14751, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.111.54.126:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 1476, 0, 167 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "387293829786218", "startTimes": [ "2022-01-26 02:15:00.785", "2022-01-26 02:15:03.636", "2022-01-26 02:15:03.636", "2022-01-26 02:15:03.804" ] } }, "logs": [ "2022-01-26T02:15:00.785499729Z stdout: ExtractImageMetadata invoked", "2022-01-26T02:15:00.788556521Z stdout: Jan 26, 2022 2:15:00 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:15:00.788597106Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:15:03.63624272Z stdout: TransformMetadata invoked", "2022-01-26T02:15:03.636518732Z stdout: Handler invoked", "2022-01-26T02:15:03.638023895Z stdout: Jan 26, 2022 2:15:03 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:15:03.638040843Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:15:03.804456933Z stdout: Thumbnail invoked", "2022-01-26T02:15:03.80659706Z stdout: Jan 26, 2022 2:15:03 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T02:15:03.806622526Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T02:15:15.513062649Z stdout: Database failure", "2022-01-26T02:15:15.514184982Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.111.54.126:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T02:15:15.514418619Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T02:15:15.514443832Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T02:15:15.514463663Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T02:15:15.514482046Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T02:15:15.514531844Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T02:15:15.514550014Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-26T02:15:15.514564402Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T02:15:15.514581522Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T02:15:15.514650263Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T02:15:15.514671125Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T02:15:15.514686876Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T02:15:15.51470383Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T02:15:15.514718634Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T02:15:15.514732896Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:15.514750093Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T02:15:15.514766472Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T02:15:15.514783374Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T02:15:15.51485897Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:15.514877728Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T02:15:15.514894104Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T02:15:15.515735827Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T02:15:15.515762603Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T02:15:15.515773951Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T02:15:15.530843267Z stdout: main function failed", "2022-01-26T02:15:15.530902881Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T02:15:15.5309872Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T02:15:15.530996422Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-26T02:15:15.53100167Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T02:15:15.531007401Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T02:15:15.531014604Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T02:15:15.531019633Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T02:15:15.531033238Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T02:15:15.531038617Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T02:15:15.531066746Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T02:15:15.531076784Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:15.531082149Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T02:15:15.53108818Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T02:15:15.531094703Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T02:15:15.53110007Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T02:15:15.531119452Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T02:15:15.531127389Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T02:15:15.531138361Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T02:15:15.531143779Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T02:15:15.531155476Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T02:15:15.531181352Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T02:15:15.531306929Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T02:15:15.531313662Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T02:15:15.531319242Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T02:15:15.531343478Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 6 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

