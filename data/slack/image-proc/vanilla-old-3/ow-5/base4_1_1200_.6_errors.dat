ok: got activation 122a3da37bf74673aa3da37bf736736a { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "122a3da37bf74673aa3da37bf736736a", "start": 1643169421363, "end": 1643169437983, "duration": 16620, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 3912, 0, 203 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "393415704340113", "startTimes": [ "2022-01-26 03:57:01.364", "2022-01-26 03:57:06.609", "2022-01-26 03:57:06.610", "2022-01-26 03:57:06.813" ] } }, "logs": [ "2022-01-26T03:57:01.36472027Z stdout: ExtractImageMetadata invoked", "2022-01-26T03:57:01.366241967Z stdout: Jan 26, 2022 3:57:01 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:01.366279185Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:06.609956308Z stdout: TransformMetadata invoked", "2022-01-26T03:57:06.61011103Z stdout: Handler invoked", "2022-01-26T03:57:06.611214917Z stdout: Jan 26, 2022 3:57:06 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:06.611230775Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:06.813373596Z stdout: Thumbnail invoked", "2022-01-26T03:57:06.814742169Z stdout: Jan 26, 2022 3:57:06 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:06.814758911Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:17.969854704Z stdout: Database failure", "2022-01-26T03:57:17.97024631Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T03:57:17.970343367Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T03:57:17.970352426Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T03:57:17.970358254Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T03:57:17.970364508Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T03:57:17.970375065Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T03:57:17.970386205Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-26T03:57:17.970413238Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T03:57:17.970445649Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.970467655Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.970480471Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.970491184Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.970511078Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.970522394Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.970534046Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.970545301Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.970557495Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.970569272Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.970587176Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.970603328Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.970618543Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.970638374Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.970651281Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.970664374Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.981803339Z stdout: main function failed", "2022-01-26T03:57:17.981832037Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.981879167Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T03:57:17.981889164Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-26T03:57:17.981895498Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T03:57:17.981900328Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.98191632Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.981924582Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.981933672Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.981974082Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.981985105Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.98199039Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.981995255Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.982000124Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.982014572Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.982022936Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.98203105Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.98203649Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.982042647Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.982047444Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.982052032Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.982072063Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.982188867Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T03:57:17.982196185Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T03:57:17.982210854Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T03:57:17.982216705Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 7 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation d5e6ef7396034c18a6ef739603fc1834 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "d5e6ef7396034c18a6ef739603fc1834", "start": 1643169421957, "end": 1643169437981, "duration": 16024, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 10369, 0, 295 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "393422723726994", "startTimes": [ "2022-01-26 03:57:01.958", "2022-01-26 03:57:13.629", "2022-01-26 03:57:13.629", "2022-01-26 03:57:13.924" ] } }, "logs": [ "2022-01-26T03:57:01.958352986Z stdout: ExtractImageMetadata invoked", "2022-01-26T03:57:01.95991371Z stdout: Jan 26, 2022 3:57:01 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:01.959932186Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:13.629302676Z stdout: TransformMetadata invoked", "2022-01-26T03:57:13.629551989Z stdout: Handler invoked", "2022-01-26T03:57:13.630512263Z stdout: Jan 26, 2022 3:57:13 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:13.63052907Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:13.924210392Z stdout: Thumbnail invoked", "2022-01-26T03:57:13.926132509Z stdout: Jan 26, 2022 3:57:13 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:13.926152228Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:17.968500129Z stdout: Database failure", "2022-01-26T03:57:17.969097265Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T03:57:17.969207512Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T03:57:17.969230885Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T03:57:17.969279835Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T03:57:17.969309195Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T03:57:17.96934979Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T03:57:17.969388632Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-26T03:57:17.969426976Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T03:57:17.969473079Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.969527242Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.969574119Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.969627699Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.969674356Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.969691895Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.969757802Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.969783984Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.969822025Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.969859516Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.969907294Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.969930121Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.969966253Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.970001471Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.970025315Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.970072523Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.97894152Z stdout: main function failed", "2022-01-26T03:57:17.978968021Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.979020491Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T03:57:17.979058606Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-26T03:57:17.979131646Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T03:57:17.979161736Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.979186434Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.979220882Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.979240344Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.979245978Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.97928378Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.979296992Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.979312107Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.979336257Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.979361113Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.979366858Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.979390964Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.979407217Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.979429712Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.979458528Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.97947777Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.979503183Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.979707732Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T03:57:17.979721829Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T03:57:17.979728348Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T03:57:17.979757146Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 6 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 5bc631ca8ef847588631ca8ef8e758ec { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "5bc631ca8ef847588631ca8ef8e758ec", "start": 1643169426774, "end": 1643169437983, "duration": 11209, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 11191 ], "imageName": "test.jpg", "startTimes": [ "2022-01-26 03:57:06.777" ] } }, "logs": [ "2022-01-26T03:57:06.778205353Z stdout: ExtractImageMetadata invoked", "2022-01-26T03:57:06.782766184Z stdout: Jan 26, 2022 3:57:06 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:06.782809252Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:17.971619704Z stdout: Database failure", "2022-01-26T03:57:17.97167112Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T03:57:17.971693594Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T03:57:17.971710389Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T03:57:17.971726309Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T03:57:17.971742787Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T03:57:17.971758182Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T03:57:17.971774736Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-26T03:57:17.971790805Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T03:57:17.971806366Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.971821891Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.971836666Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.97185172Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.971866712Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.971881218Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.971896528Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.971911908Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.971926796Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.971981531Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.971999418Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.972014351Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.972029499Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.972044059Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.972059299Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.972074721Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.982181592Z stdout: main function failed", "2022-01-26T03:57:17.982196304Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.982247023Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-26T03:57:17.982258078Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-26T03:57:17.982283446Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-26T03:57:17.982293204Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T03:57:17.982310727Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.982335624Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.982343678Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.98235844Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.98238822Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.982397752Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.982414877Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.982426454Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.982438232Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.982487509Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.982499559Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.98250525Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.982523969Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.982535539Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.9825588Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.982588051Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.982624624Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.982700656Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T03:57:17.982712553Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-26T03:57:17.982736761Z stdout: \t... 19 more", "2022-01-26T03:57:17.982759216Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.982837843Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T03:57:17.982869283Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T03:57:17.982876723Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T03:57:17.982885771Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 3 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 3c7b8ca2ee8349e3bb8ca2ee83c9e3b2 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "3c7b8ca2ee8349e3bb8ca2ee83c9e3b2", "start": 1643169427366, "end": 1643169437982, "duration": 10616, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 1748, 0, 252 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "393421622430318", "startTimes": [ "2022-01-26 03:57:07.369", "2022-01-26 03:57:10.439", "2022-01-26 03:57:10.440", "2022-01-26 03:57:10.692" ] } }, "logs": [ "2022-01-26T03:57:07.369651724Z stdout: ExtractImageMetadata invoked", "2022-01-26T03:57:07.372730092Z stdout: Jan 26, 2022 3:57:07 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:07.372780743Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:10.440067527Z stdout: TransformMetadata invoked", "2022-01-26T03:57:10.440320678Z stdout: Handler invoked", "2022-01-26T03:57:10.441804032Z stdout: Jan 26, 2022 3:57:10 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:10.441818307Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:10.692727737Z stdout: Thumbnail invoked", "2022-01-26T03:57:10.695662164Z stdout: Jan 26, 2022 3:57:10 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:10.695700835Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:17.970556707Z stdout: Database failure", "2022-01-26T03:57:17.970829234Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T03:57:17.970965659Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T03:57:17.97100556Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T03:57:17.971025618Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T03:57:17.971052246Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T03:57:17.971070664Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T03:57:17.971086527Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-26T03:57:17.971103433Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T03:57:17.971155926Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.971180892Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.971197939Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.971274417Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.971301381Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.971314712Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.97132675Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.971340288Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.971428684Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.971460076Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.971477628Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.971487879Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.97151618Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.971561053Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.971578821Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.971612125Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.980685316Z stdout: main function failed", "2022-01-26T03:57:17.980764446Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.980771278Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T03:57:17.980776684Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-26T03:57:17.980798647Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T03:57:17.980814385Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.980830724Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.980846806Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.98085287Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.980891245Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.980906439Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.980913218Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.980927718Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.980943567Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.980968373Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.980976551Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.980986554Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.980997632Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.981022205Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.981044954Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.98106394Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.981102966Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.981183508Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T03:57:17.98119312Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T03:57:17.981197889Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T03:57:17.981225734Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 5 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 6c2fb4188ec94e7eafb4188ec97e7eee { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "6c2fb4188ec94e7eafb4188ec97e7eee", "start": 1643169428575, "end": 1643169437982, "duration": 9407, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 543, 0, 195 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "393419613303809", "startTimes": [ "2022-01-26 03:57:08.576", "2022-01-26 03:57:10.518", "2022-01-26 03:57:10.519", "2022-01-26 03:57:10.714" ] } }, "logs": [ "2022-01-26T03:57:08.576382304Z stdout: ExtractImageMetadata invoked", "2022-01-26T03:57:08.577655337Z stdout: Jan 26, 2022 3:57:08 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:08.577692355Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:10.518808487Z stdout: TransformMetadata invoked", "2022-01-26T03:57:10.519218064Z stdout: Handler invoked", "2022-01-26T03:57:10.519921813Z stdout: Jan 26, 2022 3:57:10 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:10.519934494Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:10.714912341Z stdout: Thumbnail invoked", "2022-01-26T03:57:10.715991014Z stdout: Jan 26, 2022 3:57:10 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:10.716008457Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:17.970673409Z stdout: Database failure", "2022-01-26T03:57:17.971035727Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T03:57:17.971148078Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T03:57:17.971158095Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T03:57:17.971164671Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T03:57:17.971170761Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T03:57:17.971177705Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T03:57:17.971183888Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-26T03:57:17.971205049Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T03:57:17.971215389Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.97125311Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.971273409Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.971283086Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.971294348Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.971303661Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.971312039Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.971320207Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.971346556Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.971356476Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.971363922Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.971407364Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.971418652Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.971427307Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.971435275Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.971443132Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.980001725Z stdout: main function failed", "2022-01-26T03:57:17.980023659Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.980097823Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T03:57:17.980105671Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-26T03:57:17.980135193Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T03:57:17.980144687Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.980150094Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.980180095Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.980194985Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.980200417Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.980205396Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.980212178Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.980217193Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.98023338Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.980238834Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.980244034Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.980256788Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.980262264Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.980277713Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.980300449Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.98030675Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.980324613Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.980431722Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T03:57:17.980442633Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T03:57:17.980447628Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T03:57:17.980460512Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 5 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 6cceaf7022594e038eaf7022591e0371 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "6cceaf7022594e038eaf7022591e0371", "start": 1643169429181, "end": 1643169437985, "duration": 8804, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 565, 0, 214 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "393422221029816", "startTimes": [ "2022-01-26 03:57:09.183", "2022-01-26 03:57:11.038", "2022-01-26 03:57:11.038", "2022-01-26 03:57:11.253" ] } }, "logs": [ "2022-01-26T03:57:09.183345172Z stdout: ExtractImageMetadata invoked", "2022-01-26T03:57:09.184814876Z stdout: Jan 26, 2022 3:57:09 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:09.184856574Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:11.038760036Z stdout: TransformMetadata invoked", "2022-01-26T03:57:11.039063403Z stdout: Handler invoked", "2022-01-26T03:57:11.040252875Z stdout: Jan 26, 2022 3:57:11 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:11.040281028Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:11.25344393Z stdout: Thumbnail invoked", "2022-01-26T03:57:11.255850435Z stdout: Jan 26, 2022 3:57:11 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:11.255889593Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:17.969338772Z stdout: Database failure", "2022-01-26T03:57:17.969750699Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T03:57:17.96992586Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T03:57:17.969957404Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T03:57:17.969974501Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T03:57:17.970011177Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T03:57:17.970030697Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T03:57:17.970045829Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-26T03:57:17.970060423Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T03:57:17.970073356Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.970085899Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.970103467Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.97011719Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.970130277Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.970143723Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.970157591Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.970171246Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.970188456Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.970202876Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.970214842Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.970223699Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.970233039Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.970241565Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.97025184Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.970260437Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.984014538Z stdout: main function failed", "2022-01-26T03:57:17.984025812Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.984099385Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T03:57:17.984112614Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-26T03:57:17.984119807Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T03:57:17.984127946Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.984132458Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.984143797Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.984149468Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.98415381Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.984158021Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.984162387Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.98416697Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.984171079Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.984184853Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.984202476Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.984218232Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.984223207Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.984227512Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.984231674Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.984246871Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.984269655Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.984484501Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T03:57:17.984491114Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T03:57:17.984502676Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T03:57:17.984534783Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 5 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation f9b73372ba41429bb73372ba41929ba6 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "f9b73372ba41429bb73372ba41929ba6", "start": 1643169429781, "end": 1643169437984, "duration": 8203, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 8188 ], "imageName": "test.jpg", "startTimes": [ "2022-01-26 03:57:09.783" ] } }, "logs": [ "2022-01-26T03:57:09.783297216Z stdout: ExtractImageMetadata invoked", "2022-01-26T03:57:09.784698615Z stdout: Jan 26, 2022 3:57:09 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:09.784730291Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:17.971579673Z stdout: Database failure", "2022-01-26T03:57:17.971609082Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T03:57:17.971620657Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T03:57:17.971630974Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T03:57:17.971640745Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T03:57:17.971650692Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T03:57:17.9716601Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T03:57:17.971700899Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-26T03:57:17.971711476Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T03:57:17.971720202Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.971729045Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.971739027Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.97174776Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.97175636Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.971766688Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.971783575Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.971798593Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.971812546Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.971826407Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.971840374Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.971853585Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.971871137Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.971885557Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.971899371Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.971914703Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.98242589Z stdout: main function failed", "2022-01-26T03:57:17.982434843Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.982511802Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-26T03:57:17.982539246Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-26T03:57:17.982584516Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-26T03:57:17.982597644Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T03:57:17.982625632Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.982657677Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.982688718Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.982716279Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.982757113Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.982771297Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.982800994Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.982851228Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.982869087Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.982899851Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.982923841Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.982954809Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.982983425Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.983031731Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.983060824Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.983112688Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.983176485Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.983287449Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T03:57:17.983316031Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-26T03:57:17.983358247Z stdout: \t... 19 more", "2022-01-26T03:57:17.983467742Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.983573681Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T03:57:17.983595742Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T03:57:17.983616093Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T03:57:17.983649868Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 4 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 33aebf2878ef4890aebf2878efb89019 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "33aebf2878ef4890aebf2878efb89019", "start": 1643169430388, "end": 1643169437983, "duration": 7595, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 655, 0, 147 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "393421503427655", "startTimes": [ "2022-01-26 03:57:10.389", "2022-01-26 03:57:12.408", "2022-01-26 03:57:12.409", "2022-01-26 03:57:12.556" ] } }, "logs": [ "2022-01-26T03:57:10.389675381Z stdout: ExtractImageMetadata invoked", "2022-01-26T03:57:10.390966564Z stdout: Jan 26, 2022 3:57:10 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:10.391002636Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:12.409121834Z stdout: TransformMetadata invoked", "2022-01-26T03:57:12.409278252Z stdout: Handler invoked", "2022-01-26T03:57:12.410038897Z stdout: Jan 26, 2022 3:57:12 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:12.410054823Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:12.55694984Z stdout: Thumbnail invoked", "2022-01-26T03:57:12.558120523Z stdout: Jan 26, 2022 3:57:12 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:12.558136562Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:17.968915209Z stdout: Database failure", "2022-01-26T03:57:17.969350648Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T03:57:17.969541647Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T03:57:17.969554125Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T03:57:17.969559674Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T03:57:17.969572701Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T03:57:17.969609416Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T03:57:17.969626611Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-26T03:57:17.969637849Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T03:57:17.969662175Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.969680414Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.969691164Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.969703006Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.969711288Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.969721328Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.969744622Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.969755029Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.969770081Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.969789558Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.969804799Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.969813936Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.969824129Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.969832658Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.969855584Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.969866674Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.981253563Z stdout: main function failed", "2022-01-26T03:57:17.981272937Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.981391498Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T03:57:17.981398458Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-26T03:57:17.981412195Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T03:57:17.981417592Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.981425091Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.981430122Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.981435039Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.981441136Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.981445919Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.981460647Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.981475245Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.98149208Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.981497918Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.98150306Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.981522675Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.981528496Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.981535061Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.981541595Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.981553197Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.981587304Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.981689964Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T03:57:17.981699589Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T03:57:17.981705638Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T03:57:17.981730814Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 7 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 9340cb6c801340ec80cb6c8013b0ec8a { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "9340cb6c801340ec80cb6c8013b0ec8a", "start": 1643169430989, "end": 1643169437982, "duration": 6993, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 6979 ], "imageName": "test.jpg", "startTimes": [ "2022-01-26 03:57:10.992" ] } }, "logs": [ "2022-01-26T03:57:10.9923687Z stdout: ExtractImageMetadata invoked", "2022-01-26T03:57:10.99523848Z stdout: Jan 26, 2022 3:57:10 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:10.995280411Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:17.970352769Z stdout: Database failure", "2022-01-26T03:57:17.970825144Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T03:57:17.971041991Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T03:57:17.971067776Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T03:57:17.971083252Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T03:57:17.971134017Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T03:57:17.971154314Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T03:57:17.971168889Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-26T03:57:17.971183467Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T03:57:17.971279859Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.971306802Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.971322708Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.971336643Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.971350652Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.971365073Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.971374836Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.971387379Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.971502412Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.971524319Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.971540605Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.971555957Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.971565863Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.971574731Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.971583491Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.971592178Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.980736177Z stdout: main function failed", "2022-01-26T03:57:17.980737253Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.980804983Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-26T03:57:17.980831479Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-26T03:57:17.980837134Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-26T03:57:17.98084155Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T03:57:17.980847514Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.9808518Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.98085603Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.980860878Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.980864872Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.980868891Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.980874996Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.980881599Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.980888179Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.980902471Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.98091188Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.980921124Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.980926457Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.980931288Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.980942026Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.980962004Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.980985459Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.981060327Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T03:57:17.981065571Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-26T03:57:17.981079704Z stdout: \t... 19 more", "2022-01-26T03:57:17.981085362Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.981171047Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T03:57:17.981183379Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T03:57:17.981188334Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T03:57:17.981192754Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 6 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 79f44c0239204b82b44c0239203b82d5 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "79f44c0239204b82b44c0239203b82d5", "start": 1643169432091, "end": 1643169437985, "duration": 5894, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 5880 ], "imageName": "test.jpg", "startTimes": [ "2022-01-26 03:57:12.093" ] } }, "logs": [ "2022-01-26T03:57:12.093811719Z stdout: ExtractImageMetadata invoked", "2022-01-26T03:57:12.097001807Z stdout: Jan 26, 2022 3:57:12 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:12.097038403Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:17.974096156Z stdout: Database failure", "2022-01-26T03:57:17.975418242Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T03:57:17.975559708Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T03:57:17.975570441Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T03:57:17.97560788Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T03:57:17.975629896Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T03:57:17.975642947Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T03:57:17.975655081Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-26T03:57:17.975673654Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T03:57:17.975686622Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.975699202Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.975714455Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.975727121Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.975752322Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.97576443Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.975798634Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.975814562Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.975823345Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.975828559Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.975833569Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.975838453Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.975843264Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.975848264Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.975853041Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.975906231Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.983930363Z stdout: main function failed", "2022-01-26T03:57:17.983945355Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.984025912Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-26T03:57:17.984033643Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-26T03:57:17.984048294Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-26T03:57:17.984054031Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T03:57:17.984059862Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.984077452Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.984083186Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.984088796Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.984101851Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.98411888Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.984124745Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.984130375Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.984176168Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.984195178Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.984203315Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.984208366Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.984213476Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.98421976Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.984224704Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.984280845Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.984319866Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.984418025Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T03:57:17.984429963Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-26T03:57:17.984473418Z stdout: \t... 19 more", "2022-01-26T03:57:17.98448338Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.98457838Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T03:57:17.984590751Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T03:57:17.984597054Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T03:57:17.984602119Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 507 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 2577ca648b144cf8b7ca648b14acf8e9 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "2577ca648b144cf8b7ca648b14acf8e9", "start": 1643169432180, "end": 1643169437982, "duration": 5802, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 5787 ], "imageName": "test.jpg", "startTimes": [ "2022-01-26 03:57:12.182" ] } }, "logs": [ "2022-01-26T03:57:12.183092063Z stdout: ExtractImageMetadata invoked", "2022-01-26T03:57:12.186024896Z stdout: Jan 26, 2022 3:57:12 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:12.186064767Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:17.969924104Z stdout: Database failure", "2022-01-26T03:57:17.970570932Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T03:57:17.970916955Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T03:57:17.970945995Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T03:57:17.970956909Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T03:57:17.970967112Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T03:57:17.970976045Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T03:57:17.971031383Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-26T03:57:17.971044364Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T03:57:17.971052992Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.971061624Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.971085033Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.971104839Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.971117941Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.971133206Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.971146614Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.97115778Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.971193164Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.97121061Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.971219358Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.971227837Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.97124292Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.971252978Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.971293748Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.971314767Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.980523568Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.98053247Z stdout: main function failed", "2022-01-26T03:57:17.980652672Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-26T03:57:17.980678331Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-26T03:57:17.980687791Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-26T03:57:17.980710035Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T03:57:17.980733036Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.98075459Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.980772647Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.980779101Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.980784368Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.98078986Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.980794774Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.980799551Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.980804207Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.980811376Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.980816527Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.980876501Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.980884069Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.980889246Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.980894746Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.980899766Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.980915851Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.981009288Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T03:57:17.981018351Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-26T03:57:17.981024855Z stdout: \t... 19 more", "2022-01-26T03:57:17.981033119Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.981168967Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T03:57:17.981180729Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T03:57:17.981187431Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T03:57:17.98119375Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 4 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation e96c81334565469aac81334565469a0a { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "e96c81334565469aac81334565469a0a", "start": 1643169432784, "end": 1643169437984, "duration": 5200, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 5182 ], "imageName": "test.jpg", "startTimes": [ "2022-01-26 03:57:12.787" ] } }, "logs": [ "2022-01-26T03:57:12.787661442Z stdout: ExtractImageMetadata invoked", "2022-01-26T03:57:12.791215028Z stdout: Jan 26, 2022 3:57:12 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:12.791246048Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:17.970542445Z stdout: Database failure", "2022-01-26T03:57:17.971040814Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T03:57:17.971209118Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T03:57:17.971226239Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T03:57:17.971237719Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T03:57:17.971296383Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T03:57:17.971322089Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T03:57:17.971373138Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-26T03:57:17.9713934Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T03:57:17.971426986Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.971452511Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.971478749Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.971506848Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.97154362Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.97156439Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.971593533Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.971609389Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.971625738Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.971661361Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.971682617Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.971789166Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.971810643Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.971822192Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.97183575Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.971847617Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.982980551Z stdout: main function failed", "2022-01-26T03:57:17.983043874Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.983085183Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-26T03:57:17.983102214Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-26T03:57:17.983129838Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-26T03:57:17.983144172Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T03:57:17.98317555Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.983187998Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.983202317Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.983246329Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.983259521Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.983271326Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.983282184Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.983291367Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.98332052Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.983333771Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.983350856Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.983380352Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.983388949Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.983430366Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.983444432Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.983461945Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.983497914Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.983598088Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T03:57:17.983607936Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-26T03:57:17.983634753Z stdout: \t... 19 more", "2022-01-26T03:57:17.983666246Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.983759937Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T03:57:17.983773663Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T03:57:17.983784456Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T03:57:17.983827343Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 6 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 3f5f810505dc413b9f810505dc913b8f { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "3f5f810505dc413b9f810505dc913b8f", "start": 1643169433394, "end": 1643169437986, "duration": 4592, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 4573 ], "imageName": "test.jpg", "startTimes": [ "2022-01-26 03:57:13.395" ] } }, "logs": [ "2022-01-26T03:57:13.395824363Z stdout: ExtractImageMetadata invoked", "2022-01-26T03:57:13.397287031Z stdout: Jan 26, 2022 3:57:13 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:13.397351353Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:17.969031982Z stdout: Database failure", "2022-01-26T03:57:17.970605395Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T03:57:17.970626821Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T03:57:17.970637667Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T03:57:17.970647792Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T03:57:17.970660673Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T03:57:17.97067554Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T03:57:17.970690871Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-26T03:57:17.97070662Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T03:57:17.970722946Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.970738004Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.970752761Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.970768752Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.970779233Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.970812236Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.970828586Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.970842194Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.970856349Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.970871278Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.970881142Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.970889787Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.970898315Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.970906765Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.970915139Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.970923491Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.984437905Z stdout: main function failed", "2022-01-26T03:57:17.984458044Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.984553504Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-26T03:57:17.984562491Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-26T03:57:17.984570395Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-26T03:57:17.984578549Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T03:57:17.984597121Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.984605446Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.984623992Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.984631979Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.984638828Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.984646185Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.984651784Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.984656165Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.984673603Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.984684121Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.984700358Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.984708206Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.984727914Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.98473696Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.984746339Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.984794942Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.984852046Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.984943536Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T03:57:17.984951216Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-26T03:57:17.984987746Z stdout: \t... 19 more", "2022-01-26T03:57:17.984999961Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.985107007Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T03:57:17.985125323Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T03:57:17.98513792Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T03:57:17.985148458Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 8 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 3a928f8f9e71411d928f8f9e71f11d17 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "3a928f8f9e71411d928f8f9e71f11d17", "start": 1643169433984, "end": 1643169437985, "duration": 4001, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 3980 ], "imageName": "test.jpg", "startTimes": [ "2022-01-26 03:57:13.987" ] } }, "logs": [ "2022-01-26T03:57:13.98780989Z stdout: ExtractImageMetadata invoked", "2022-01-26T03:57:13.991013505Z stdout: Jan 26, 2022 3:57:13 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T03:57:13.991050528Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T03:57:17.968914392Z stdout: Database failure", "2022-01-26T03:57:17.968993724Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T03:57:17.969044022Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T03:57:17.969055265Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T03:57:17.969064476Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T03:57:17.969073363Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T03:57:17.969082166Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T03:57:17.969090897Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-26T03:57:17.969387873Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T03:57:17.96940884Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.969419198Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.969428381Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.969437395Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.969446284Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.96945529Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.969464244Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.969472775Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.969481536Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.96949027Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.969504993Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.969514423Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.969523291Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.969532154Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.969546401Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.969556475Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.984361879Z stdout: main function failed", "2022-01-26T03:57:17.984376073Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.984445752Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-26T03:57:17.984456918Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-26T03:57:17.984474627Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-26T03:57:17.984480028Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T03:57:17.984485099Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T03:57:17.984489122Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T03:57:17.984507646Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T03:57:17.984512999Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T03:57:17.984517117Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T03:57:17.984522056Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T03:57:17.984532666Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.984540394Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T03:57:17.984549161Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T03:57:17.984555659Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T03:57:17.984584909Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T03:57:17.984596286Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T03:57:17.98460519Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T03:57:17.984609869Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T03:57:17.984614091Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T03:57:17.984618768Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T03:57:17.984628327Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.984705132Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T03:57:17.984718621Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-26T03:57:17.984728542Z stdout: \t... 19 more", "2022-01-26T03:57:17.984736052Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T03:57:17.984815635Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T03:57:17.984823107Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T03:57:17.984827446Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T03:57:17.984832215Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 5 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 25cfc4d753314bcf8fc4d75331ebcfc9 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "25cfc4d753314bcf8fc4d75331ebcfc9", "start": 1643169765197, "end": 1643169783269, "duration": 18072, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 11030, 0, 423 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "393767911124579", "startTimes": [ "2022-01-26 04:02:45.198", "2022-01-26 04:02:57.718", "2022-01-26 04:02:57.718", "2022-01-26 04:02:58.141" ] } }, "logs": [ "2022-01-26T04:02:45.198280447Z stdout: ExtractImageMetadata invoked", "2022-01-26T04:02:45.199522215Z stdout: Jan 26, 2022 4:02:45 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:02:45.19953985Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:02:57.718209004Z stdout: TransformMetadata invoked", "2022-01-26T04:02:57.718327386Z stdout: Handler invoked", "2022-01-26T04:02:57.718989485Z stdout: Jan 26, 2022 4:02:57 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:02:57.719009496Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:02:58.14213299Z stdout: Thumbnail invoked", "2022-01-26T04:02:58.143182899Z stdout: Jan 26, 2022 4:02:58 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:02:58.143224725Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:03:03.256204667Z stdout: Database failure", "2022-01-26T04:03:03.256248943Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T04:03:03.25630882Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T04:03:03.256316891Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T04:03:03.256322198Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T04:03:03.256327361Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T04:03:03.256332361Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T04:03:03.2563372Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-26T04:03:03.25634196Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T04:03:03.256380286Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-26T04:03:03.25641128Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T04:03:03.256417729Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T04:03:03.256422777Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T04:03:03.256428346Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T04:03:03.256433491Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:03:03.25643847Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T04:03:03.256448922Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T04:03:03.256454044Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T04:03:03.256458972Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:03:03.256464161Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T04:03:03.256469894Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T04:03:03.256475208Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T04:03:03.256500735Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T04:03:03.256519842Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T04:03:03.267836973Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:03:03.267881242Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T04:03:03.267891521Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-26T04:03:03.267906633Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T04:03:03.267914701Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-26T04:03:03.267922242Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T04:03:03.267929686Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T04:03:03.267936414Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T04:03:03.26794491Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T04:03:03.267952376Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:03:03.267960087Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T04:03:03.267967153Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T04:03:03.267974039Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T04:03:03.267982357Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:03:03.267859605Z stdout: main function failed", "2022-01-26T04:03:03.267989807Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T04:03:03.268040699Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T04:03:03.268048647Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T04:03:03.268062501Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T04:03:03.268070259Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T04:03:03.268077058Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:03:03.268134256Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T04:03:03.268160194Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T04:03:03.268166531Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T04:03:03.268173579Z stdout: \t... 17 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 5 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 5a92816cc6bf468b92816cc6bf668b9e { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "5a92816cc6bf468b92816cc6bf668b9e", "start": 1643169774817, "end": 1643169783267, "duration": 8450, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 1524, 0, 442 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "393766817181558", "startTimes": [ "2022-01-26 04:02:54.818", "2022-01-26 04:02:57.722", "2022-01-26 04:02:57.722", "2022-01-26 04:02:58.165" ] } }, "logs": [ "2022-01-26T04:02:54.81881869Z stdout: ExtractImageMetadata invoked", "2022-01-26T04:02:54.821230981Z stdout: Jan 26, 2022 4:02:54 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:02:54.821251546Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:02:57.722799269Z stdout: TransformMetadata invoked", "2022-01-26T04:02:57.722995135Z stdout: Handler invoked", "2022-01-26T04:02:57.724158347Z stdout: Jan 26, 2022 4:02:57 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:02:57.724176161Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:02:58.165926664Z stdout: Thumbnail invoked", "2022-01-26T04:02:58.167537739Z stdout: Jan 26, 2022 4:02:58 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:02:58.167557003Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:03:03.255559238Z stdout: Database failure", "2022-01-26T04:03:03.255978922Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T04:03:03.256121781Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T04:03:03.256138117Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T04:03:03.256148419Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T04:03:03.256158116Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T04:03:03.25616993Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T04:03:03.256197024Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-26T04:03:03.256223598Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T04:03:03.256245555Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T04:03:03.256264039Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T04:03:03.256281729Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T04:03:03.256293718Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T04:03:03.256318626Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T04:03:03.256348582Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T04:03:03.256356271Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:03:03.256390765Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T04:03:03.256424651Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T04:03:03.256435056Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T04:03:03.25645607Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:03:03.256466195Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T04:03:03.256481578Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T04:03:03.256497752Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T04:03:03.256528807Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T04:03:03.256552071Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T04:03:03.264914793Z stdout: main function failed", "2022-01-26T04:03:03.264934482Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:03:03.265021101Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T04:03:03.265051156Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-26T04:03:03.265058825Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T04:03:03.265063796Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T04:03:03.265077912Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T04:03:03.265083623Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T04:03:03.265111287Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T04:03:03.265124523Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T04:03:03.265150036Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T04:03:03.26516009Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:03:03.265187224Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T04:03:03.265202708Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T04:03:03.265222845Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T04:03:03.265253779Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:03:03.26526347Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T04:03:03.265292542Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T04:03:03.265305529Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T04:03:03.265316502Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T04:03:03.265354567Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T04:03:03.26540059Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:03:03.265500132Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T04:03:03.265513437Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T04:03:03.265531029Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T04:03:03.265552788Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 6 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation f483d15c1e96411783d15c1e9651171b { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "f483d15c1e96411783d15c1e9651171b", "start": 1643169777816, "end": 1643169783265, "duration": 5449, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 5437 ], "imageName": "test.jpg", "startTimes": [ "2022-01-26 04:02:57.817" ] } }, "logs": [ "2022-01-26T04:02:57.817699198Z stdout: ExtractImageMetadata invoked", "2022-01-26T04:02:57.818865799Z stdout: Jan 26, 2022 4:02:57 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:02:57.818884212Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:03:03.255097752Z stdout: Database failure", "2022-01-26T04:03:03.255488377Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T04:03:03.255587369Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T04:03:03.255655905Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T04:03:03.255666636Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T04:03:03.255674939Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T04:03:03.255682044Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T04:03:03.25570678Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-26T04:03:03.255716543Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T04:03:03.255725337Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T04:03:03.255748329Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T04:03:03.255757383Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T04:03:03.255766129Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T04:03:03.255773762Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T04:03:03.255782085Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T04:03:03.255796761Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:03:03.255805286Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T04:03:03.25581224Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T04:03:03.255819371Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T04:03:03.255831314Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:03:03.255839897Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T04:03:03.255865007Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T04:03:03.255872289Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T04:03:03.25588078Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T04:03:03.255887877Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T04:03:03.264435088Z stdout: main function failed", "2022-01-26T04:03:03.264483168Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:03:03.264541525Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-26T04:03:03.264550764Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-26T04:03:03.264579484Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-26T04:03:03.264585697Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T04:03:03.264590662Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T04:03:03.264595591Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T04:03:03.264600339Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T04:03:03.264605274Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T04:03:03.26460983Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T04:03:03.264614489Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T04:03:03.264631414Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:03:03.264651966Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T04:03:03.264660689Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T04:03:03.264670939Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T04:03:03.264678243Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:03:03.264687033Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T04:03:03.264696184Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T04:03:03.264717788Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T04:03:03.264726723Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T04:03:03.264764477Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T04:03:03.264803487Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:03:03.264874164Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T04:03:03.264888175Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-26T04:03:03.264902186Z stdout: \t... 19 more", "2022-01-26T04:03:03.264909757Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:03:03.264998481Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T04:03:03.265010375Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T04:03:03.26501882Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T04:03:03.265026679Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 6 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 97bd86d0c5a8412fbd86d0c5a8512feb { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "97bd86d0c5a8412fbd86d0c5a8512feb", "start": 1643169809076, "end": 1643169815971, "duration": 6895, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 6879 ], "imageName": "test.jpg", "startTimes": [ "2022-01-26 04:03:29.078" ] } }, "logs": [ "2022-01-26T04:03:29.078345552Z stdout: ExtractImageMetadata invoked", "2022-01-26T04:03:29.079815868Z stdout: Jan 26, 2022 4:03:29 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:03:29.079843794Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:03:35.957921505Z stdout: Database failure", "2022-01-26T04:03:35.957973697Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T04:03:35.958012426Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T04:03:35.958017746Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T04:03:35.958021883Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T04:03:35.958025827Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T04:03:35.958029571Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T04:03:35.958033468Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-26T04:03:35.958043857Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T04:03:35.95804853Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T04:03:35.958052452Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T04:03:35.95805655Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T04:03:35.958060511Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T04:03:35.958064162Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T04:03:35.958068275Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T04:03:35.958072085Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:03:35.958075892Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T04:03:35.95807981Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T04:03:35.958083605Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T04:03:35.958087481Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:03:35.958092177Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T04:03:35.958096269Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T04:03:35.958100083Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T04:03:35.958103847Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T04:03:35.958107566Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T04:03:35.969668965Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:03:35.96968444Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-26T04:03:35.969688754Z stdout: main function failed", "2022-01-26T04:03:35.969699237Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-26T04:03:35.969721526Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-26T04:03:35.969732896Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T04:03:35.969737489Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T04:03:35.969743128Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T04:03:35.969747368Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T04:03:35.969751385Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T04:03:35.969757743Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T04:03:35.969762433Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T04:03:35.969816729Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:03:35.969825108Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T04:03:35.969829607Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T04:03:35.969833731Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T04:03:35.969838295Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:03:35.969851975Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T04:03:35.969856745Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T04:03:35.969861023Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T04:03:35.969865176Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T04:03:35.969869089Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T04:03:35.969879976Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:03:35.969954428Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T04:03:35.969962387Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-26T04:03:35.970008986Z stdout: \t... 19 more", "2022-01-26T04:03:35.970033437Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:03:35.970060862Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T04:03:35.970067571Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T04:03:35.97007217Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T04:03:35.970076293Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 4 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation da99c1287b6f42a699c1287b6fb2a6b9 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "da99c1287b6f42a699c1287b6fb2a6b9", "start": 1643169920283, "end": 1643169980345, "duration": 60062, "statusCode": 2, "response": { "status": "action developer error", "statusCode": 0, "success": false, "result": { "error": "The action exceeded its time limits of 60000 milliseconds." } }, "logs": [ "2022-01-26T04:05:20.284899645Z stdout: ExtractImageMetadata invoked", "2022-01-26T04:05:20.285881722Z stdout: Jan 26, 2022 4:05:20 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:05:20.285900601Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:05:34.021335744Z stdout: TransformMetadata invoked", "2022-01-26T04:05:34.021448123Z stdout: Handler invoked", "2022-01-26T04:05:34.022014611Z stdout: Jan 26, 2022 4:05:34 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:05:34.022031249Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:05:34.361590108Z stdout: Thumbnail invoked", "2022-01-26T04:05:34.362611306Z stdout: Jan 26, 2022 4:05:34 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:05:34.362638581Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:05:43.243879996Z stdout: Jan 26, 2022 4:05:43 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:05:43.243916283Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:10.830867688Z stdout: Document Conflict Exception when writing thumbnail; ignoring...", "2022-01-26T04:06:10.830889724Z stdout: StoreImageMetadata invoked", "2022-01-26T04:06:10.831453976Z stdout: Jan 26, 2022 4:06:10 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:10.831471496Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:20.345493722Z stderr: The action did not initialize or run as expected. Log data might be missing." ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 6 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": true }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 3215d430cb454f4c95d430cb453f4c1d { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "3215d430cb454f4c95d430cb453f4c1d", "start": 1643169923283, "end": 1643169983313, "duration": 60030, "statusCode": 2, "response": { "status": "action developer error", "statusCode": 0, "success": false, "result": { "error": "The action exceeded its time limits of 60000 milliseconds." } }, "logs": [ "2022-01-26T04:05:23.285622254Z stdout: ExtractImageMetadata invoked", "2022-01-26T04:05:23.287869566Z stdout: Jan 26, 2022 4:05:23 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:05:23.287934074Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:05:27.328272745Z stdout: TransformMetadata invoked", "2022-01-26T04:05:27.328555203Z stdout: Handler invoked", "2022-01-26T04:05:27.329397142Z stdout: Jan 26, 2022 4:05:27 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:05:27.329432546Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:05:28.334614627Z stdout: Thumbnail invoked", "2022-01-26T04:05:28.336643497Z stdout: Jan 26, 2022 4:05:28 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:05:28.336688155Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:05:40.914875146Z stdout: Jan 26, 2022 4:05:40 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:05:40.914952399Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:10.831726764Z stdout: Document Conflict Exception when writing thumbnail; ignoring...", "2022-01-26T04:06:10.831827621Z stdout: StoreImageMetadata invoked", "2022-01-26T04:06:10.832689312Z stdout: Jan 26, 2022 4:06:10 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:10.832729383Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:23.313567321Z stderr: The action did not initialize or run as expected. Log data might be missing." ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 6 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": true }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 8ac36da901424051836da90142105156 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "8ac36da901424051836da90142105156", "start": 1643169961761, "end": 1643169974825, "duration": 13064, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 1615, 0, 195 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "393955908721416", "startTimes": [ "2022-01-26 04:06:01.762", "2022-01-26 04:06:04.725", "2022-01-26 04:06:04.726", "2022-01-26 04:06:04.921" ] } }, "logs": [ "2022-01-26T04:06:01.762801938Z stdout: ExtractImageMetadata invoked", "2022-01-26T04:06:01.763923499Z stdout: Jan 26, 2022 4:06:01 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:01.763939763Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:04.725798884Z stdout: TransformMetadata invoked", "2022-01-26T04:06:04.726593185Z stdout: Handler invoked", "2022-01-26T04:06:04.728086717Z stdout: Jan 26, 2022 4:06:04 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:04.728104409Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:04.92168763Z stdout: Thumbnail invoked", "2022-01-26T04:06:04.924153106Z stdout: Jan 26, 2022 4:06:04 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:04.924191567Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:14.811051532Z stdout: Database failure", "2022-01-26T04:06:14.812112726Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T04:06:14.812560236Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T04:06:14.812587417Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T04:06:14.812607284Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T04:06:14.812625125Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T04:06:14.812655161Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T04:06:14.812676579Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-26T04:06:14.812695476Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T04:06:14.812815025Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T04:06:14.812841119Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T04:06:14.812853593Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T04:06:14.81286537Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T04:06:14.812952578Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T04:06:14.812972369Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T04:06:14.812990326Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:14.81301208Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T04:06:14.813026644Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T04:06:14.813068555Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T04:06:14.813090591Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:14.813109526Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T04:06:14.813122426Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T04:06:14.81317786Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T04:06:14.813206191Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T04:06:14.813218704Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T04:06:14.823377951Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:06:14.823380203Z stdout: main function failed", "2022-01-26T04:06:14.823652759Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T04:06:14.823666314Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-26T04:06:14.823672702Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T04:06:14.823678498Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T04:06:14.823683921Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T04:06:14.823689223Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T04:06:14.823694533Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T04:06:14.82369955Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T04:06:14.823704793Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T04:06:14.82370989Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:14.823715045Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T04:06:14.823720122Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T04:06:14.823725265Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T04:06:14.823730375Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:14.823735481Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T04:06:14.823742206Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T04:06:14.823747481Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T04:06:14.823752573Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T04:06:14.823767623Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T04:06:14.823773313Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:06:14.823819636Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T04:06:14.82383016Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T04:06:14.823835673Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T04:06:14.823845423Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 5 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation c52bf616aae94f01abf616aae91f0161 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "c52bf616aae94f01abf616aae91f0161", "start": 1643169962362, "end": 1643169974825, "duration": 12463, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 1410, 0, 190 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "393956458194585", "startTimes": [ "2022-01-26 04:06:02.365", "2022-01-26 04:06:05.275", "2022-01-26 04:06:05.276", "2022-01-26 04:06:05.466" ] } }, "logs": [ "2022-01-26T04:06:02.365427017Z stdout: ExtractImageMetadata invoked", "2022-01-26T04:06:02.368211427Z stdout: Jan 26, 2022 4:06:02 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:02.368250622Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:05.275845806Z stdout: TransformMetadata invoked", "2022-01-26T04:06:05.276113118Z stdout: Handler invoked", "2022-01-26T04:06:05.277350368Z stdout: Jan 26, 2022 4:06:05 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:05.277372404Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:05.466308942Z stdout: Thumbnail invoked", "2022-01-26T04:06:05.467605873Z stdout: Jan 26, 2022 4:06:05 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:05.467629913Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:14.810427844Z stdout: Database failure", "2022-01-26T04:06:14.811162634Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T04:06:14.811313961Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T04:06:14.811336101Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T04:06:14.81156974Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T04:06:14.811601514Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T04:06:14.811613874Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T04:06:14.811625798Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-26T04:06:14.811645145Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T04:06:14.811657292Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T04:06:14.81171337Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T04:06:14.811744071Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T04:06:14.811783038Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T04:06:14.811795686Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T04:06:14.811912051Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T04:06:14.811940435Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:14.811957382Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T04:06:14.811968986Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T04:06:14.81197994Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T04:06:14.811996326Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:14.812012334Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T04:06:14.812068465Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T04:06:14.812092662Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T04:06:14.812110066Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T04:06:14.812123506Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T04:06:14.82333472Z stdout: main function failed", "2022-01-26T04:06:14.823358757Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:06:14.823583917Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T04:06:14.823598901Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-26T04:06:14.823604742Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T04:06:14.8236103Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T04:06:14.82361587Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T04:06:14.823621118Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T04:06:14.82362621Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T04:06:14.823631207Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T04:06:14.823636352Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T04:06:14.823641357Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:14.823646329Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T04:06:14.823651694Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T04:06:14.823660799Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T04:06:14.823666356Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:14.823671532Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T04:06:14.823676814Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T04:06:14.823682008Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T04:06:14.82368721Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T04:06:14.82369231Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T04:06:14.82370687Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:06:14.823778102Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T04:06:14.823790254Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T04:06:14.823806647Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T04:06:14.823824867Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 6 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 59c07e62459d44f8807e62459d54f812 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "59c07e62459d44f8807e62459d54f812", "start": 1643169964757, "end": 1643169974828, "duration": 10071, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 10051 ], "imageName": "test.jpg", "startTimes": [ "2022-01-26 04:06:04.760" ] } }, "logs": [ "2022-01-26T04:06:04.760374843Z stdout: ExtractImageMetadata invoked", "2022-01-26T04:06:04.762982563Z stdout: Jan 26, 2022 4:06:04 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:04.763027771Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:14.810853276Z stdout: Database failure", "2022-01-26T04:06:14.812231963Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T04:06:14.812392528Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T04:06:14.812432019Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T04:06:14.812445776Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T04:06:14.812484997Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T04:06:14.812506214Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T04:06:14.812545859Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-26T04:06:14.812557423Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T04:06:14.81257738Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T04:06:14.81258861Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T04:06:14.812621951Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T04:06:14.812634552Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T04:06:14.812644798Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T04:06:14.812657792Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T04:06:14.812668619Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:14.81269155Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T04:06:14.812703167Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T04:06:14.812782619Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T04:06:14.812847991Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:14.812870529Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T04:06:14.812893322Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T04:06:14.812905393Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T04:06:14.81291623Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T04:06:14.812926933Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T04:06:14.826525941Z stdout: main function failed", "2022-01-26T04:06:14.826535694Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:06:14.82658991Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-26T04:06:14.826626474Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-26T04:06:14.826639471Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-26T04:06:14.826650731Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T04:06:14.826682969Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T04:06:14.826695669Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T04:06:14.826706736Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T04:06:14.82671753Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T04:06:14.826755668Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T04:06:14.826771988Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T04:06:14.826784425Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:14.82696909Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T04:06:14.82699218Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T04:06:14.827016822Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T04:06:14.827023269Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:14.827028441Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T04:06:14.827033669Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T04:06:14.827039078Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T04:06:14.827046262Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T04:06:14.827069253Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T04:06:14.827092577Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:06:14.827189133Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T04:06:14.827197968Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-26T04:06:14.827248664Z stdout: \t... 19 more", "2022-01-26T04:06:14.827264909Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:06:14.827442684Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T04:06:14.827455944Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T04:06:14.827491005Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T04:06:14.827503185Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 3 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 10a978164dca420ca978164dca220c2f { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "10a978164dca420ca978164dca220c2f", "start": 1643169965357, "end": 1643169974820, "duration": 9463, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 9450 ], "imageName": "test.jpg", "startTimes": [ "2022-01-26 04:06:05.358" ] } }, "logs": [ "2022-01-26T04:06:05.358505232Z stdout: ExtractImageMetadata invoked", "2022-01-26T04:06:05.35994452Z stdout: Jan 26, 2022 4:06:05 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:05.359965753Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:14.808694135Z stdout: Database failure", "2022-01-26T04:06:14.809367218Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T04:06:14.809476662Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T04:06:14.809493421Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T04:06:14.80950872Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T04:06:14.809522117Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T04:06:14.809527982Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T04:06:14.809538793Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-26T04:06:14.809555904Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T04:06:14.809581733Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T04:06:14.809589107Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T04:06:14.809593848Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T04:06:14.809599625Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T04:06:14.809604998Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T04:06:14.809626314Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T04:06:14.809631974Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:14.809637191Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T04:06:14.80964338Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T04:06:14.809666275Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T04:06:14.809684628Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:14.809692551Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T04:06:14.809697568Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T04:06:14.80970313Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T04:06:14.809707888Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T04:06:14.809714507Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T04:06:14.818157295Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:06:14.81818554Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-26T04:06:14.818158441Z stdout: main function failed", "2022-01-26T04:06:14.818196958Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-26T04:06:14.818222452Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-26T04:06:14.818231031Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T04:06:14.818250684Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T04:06:14.818259712Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T04:06:14.818264855Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T04:06:14.818271137Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T04:06:14.818455437Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T04:06:14.818484857Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T04:06:14.818494206Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:14.818506286Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T04:06:14.818513862Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T04:06:14.818521715Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T04:06:14.818529204Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:14.818538352Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T04:06:14.818546658Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T04:06:14.818554949Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T04:06:14.818562874Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T04:06:14.818572227Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T04:06:14.818584578Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:06:14.818678331Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T04:06:14.818686618Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-26T04:06:14.818710898Z stdout: \t... 19 more", "2022-01-26T04:06:14.818722214Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:06:14.818798996Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T04:06:14.818805801Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T04:06:14.818810649Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T04:06:14.818816141Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 4 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 077c1664dd6d4facbc1664dd6dbfac21 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "077c1664dd6d4facbc1664dd6dbfac21", "start": 1643169973784, "end": 1643170033791, "duration": 60007, "statusCode": 2, "response": { "status": "action developer error", "statusCode": 0, "success": false, "result": { "error": "The action exceeded its time limits of 60000 milliseconds." } }, "logs": [ "2022-01-26T04:06:13.788048164Z stdout: ExtractImageMetadata invoked", "2022-01-26T04:06:13.792560132Z stdout: Jan 26, 2022 4:06:13 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:13.792633771Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:30.763616947Z stdout: TransformMetadata invoked", "2022-01-26T04:06:30.764052487Z stdout: Handler invoked", "2022-01-26T04:06:30.765709065Z stdout: Jan 26, 2022 4:06:30 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:30.765746416Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:31.72844492Z stdout: Thumbnail invoked", "2022-01-26T04:06:31.730959379Z stdout: Jan 26, 2022 4:06:31 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:31.731031195Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:48.208989228Z stdout: Jan 26, 2022 4:06:48 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:48.209045893Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:07:02.431822895Z stdout: StoreImageMetadata invoked", "2022-01-26T04:07:02.431964089Z stdout: Document Conflict Exception when writing thumbnail; ignoring...", "2022-01-26T04:07:02.433280264Z stdout: Jan 26, 2022 4:07:02 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:07:02.433316601Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:07:13.791871115Z stderr: The action did not initialize or run as expected. Log data might be missing." ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 5 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": true }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 7ed780a5705c4ca49780a5705c9ca433 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "7ed780a5705c4ca49780a5705c9ca433", "start": 1643169976790, "end": 1643170036851, "duration": 60061, "statusCode": 2, "response": { "status": "action developer error", "statusCode": 0, "success": false, "result": { "error": "The action exceeded its time limits of 60000 milliseconds." } }, "logs": [ "2022-01-26T04:06:16.79174786Z stdout: ExtractImageMetadata invoked", "2022-01-26T04:06:16.793041774Z stdout: Jan 26, 2022 4:06:16 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:16.793078586Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:32.931383071Z stdout: TransformMetadata invoked", "2022-01-26T04:06:32.931484199Z stdout: Handler invoked", "2022-01-26T04:06:32.931938624Z stdout: Jan 26, 2022 4:06:32 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:32.931954442Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:34.95565149Z stdout: Thumbnail invoked", "2022-01-26T04:06:34.957305835Z stdout: Jan 26, 2022 4:06:34 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:34.957342776Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:51.85241723Z stdout: Jan 26, 2022 4:06:51 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:51.852465476Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:07:02.4301178Z stdout: StoreImageMetadata invoked", "2022-01-26T04:07:02.430953822Z stdout: Jan 26, 2022 4:07:02 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:07:02.431001197Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:07:16.851669899Z stderr: The action did not initialize or run as expected. Log data might be missing." ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 6 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": true }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation ad809e956ff64ff4809e956ff6dff4a7 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "ad809e956ff64ff4809e956ff6dff4a7", "start": 1643169977437, "end": 1643170037498, "duration": 60061, "statusCode": 2, "response": { "status": "action developer error", "statusCode": 0, "success": false, "result": { "error": "The action exceeded its time limits of 60000 milliseconds." } }, "logs": [ "2022-01-26T04:06:17.43909661Z stdout: ExtractImageMetadata invoked", "2022-01-26T04:06:17.440222304Z stdout: Jan 26, 2022 4:06:17 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:17.440253361Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:33.856752248Z stdout: TransformMetadata invoked", "2022-01-26T04:06:33.856928049Z stdout: Handler invoked", "2022-01-26T04:06:33.8578736Z stdout: Jan 26, 2022 4:06:33 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:33.857910351Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:35.022895997Z stdout: Thumbnail invoked", "2022-01-26T04:06:35.024706125Z stdout: Jan 26, 2022 4:06:35 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:35.024746272Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:51.524986372Z stdout: Jan 26, 2022 4:06:51 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:51.525025768Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:07:01.938732757Z stdout: StoreImageMetadata invoked", "2022-01-26T04:07:01.939198609Z stdout: Jan 26, 2022 4:07:01 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:07:01.93922699Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:07:17.498325321Z stderr: The action did not initialize or run as expected. Log data might be missing." ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 51 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": true }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 3a1ed4d4d25349119ed4d4d253b911bc { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "3a1ed4d4d25349119ed4d4d253b911bc", "start": 1643169982197, "end": 1643169986131, "duration": 3934, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 307, 0, 526 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "393974103209466", "startTimes": [ "2022-01-26 04:06:22.200", "2022-01-26 04:06:23.910", "2022-01-26 04:06:23.910", "2022-01-26 04:06:24.436" ] } }, "logs": [ "2022-01-26T04:06:22.200794574Z stdout: ExtractImageMetadata invoked", "2022-01-26T04:06:22.203208787Z stdout: Jan 26, 2022 4:06:22 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:22.203284883Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:23.910264563Z stdout: TransformMetadata invoked", "2022-01-26T04:06:23.910401764Z stdout: Handler invoked", "2022-01-26T04:06:23.911443143Z stdout: Jan 26, 2022 4:06:23 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:23.91146409Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:24.436191306Z stdout: Thumbnail invoked", "2022-01-26T04:06:24.437571529Z stdout: Jan 26, 2022 4:06:24 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:24.437590962Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:26.119494944Z stdout: Database failure", "2022-01-26T04:06:26.120101011Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T04:06:26.120189717Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T04:06:26.120200311Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T04:06:26.120234473Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T04:06:26.120251323Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T04:06:26.12026202Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T04:06:26.120271714Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-26T04:06:26.120285933Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T04:06:26.120296087Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T04:06:26.120318894Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T04:06:26.120329085Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T04:06:26.120340755Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T04:06:26.120350037Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T04:06:26.120358228Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T04:06:26.120366063Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:26.120375293Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T04:06:26.120384404Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T04:06:26.120394727Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T04:06:26.120403306Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:26.120411532Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T04:06:26.120420405Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T04:06:26.120429813Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T04:06:26.120438739Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T04:06:26.120446898Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T04:06:26.130216197Z stdout: main function failed", "2022-01-26T04:06:26.130220179Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:06:26.130253612Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T04:06:26.130262026Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-26T04:06:26.13026828Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-26T04:06:26.130274211Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-26T04:06:26.130301847Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-26T04:06:26.130322854Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T04:06:26.130330845Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T04:06:26.130336779Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T04:06:26.13034417Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T04:06:26.130350229Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:26.130369997Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T04:06:26.130377726Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T04:06:26.130383413Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T04:06:26.130392041Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:26.130397747Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T04:06:26.130403356Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T04:06:26.130410417Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T04:06:26.13041678Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T04:06:26.130422992Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T04:06:26.13045461Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:06:26.130749619Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T04:06:26.130773657Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T04:06:26.130780477Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T04:06:26.130947233Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 4 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 9f770725fdd84441b70725fdd834419e { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.14", "subject": "guest", "activationId": "9f770725fdd84441b70725fdd834419e", "start": 1643169983997, "end": 1643169985387, "duration": 1390, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.108.171.145:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 1379 ], "imageName": "test.jpg", "startTimes": [ "2022-01-26 04:06:23.998" ] } }, "logs": [ "2022-01-26T04:06:23.998845261Z stdout: ExtractImageMetadata invoked", "2022-01-26T04:06:23.99996138Z stdout: Jan 26, 2022 4:06:23 AM com.cloudant.client.api.ClientBuilder build", "2022-01-26T04:06:23.999977516Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-26T04:06:25.378124665Z stdout: Database failure", "2022-01-26T04:06:25.378184393Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.108.171.145:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-26T04:06:25.378234554Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-26T04:06:25.37824107Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-26T04:06:25.378245558Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-26T04:06:25.378249749Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-26T04:06:25.378265574Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-26T04:06:25.378270382Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-26T04:06:25.378274595Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T04:06:25.378278736Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-26T04:06:25.378282762Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T04:06:25.378286881Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T04:06:25.378317111Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T04:06:25.378352996Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T04:06:25.378358576Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:25.378365776Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T04:06:25.378370271Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T04:06:25.378374447Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T04:06:25.378378804Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:25.378382982Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T04:06:25.378554811Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T04:06:25.378573335Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T04:06:25.378582717Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T04:06:25.378589511Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T04:06:25.386196063Z stdout: main function failed", "2022-01-26T04:06:25.386223483Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:06:25.386238281Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-26T04:06:25.386243216Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-26T04:06:25.386247629Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-26T04:06:25.386268358Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-26T04:06:25.386273066Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-26T04:06:25.386277112Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-26T04:06:25.386281302Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-26T04:06:25.38628531Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-26T04:06:25.386293331Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-26T04:06:25.386300431Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:25.386304683Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-26T04:06:25.386308796Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-26T04:06:25.386312727Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-26T04:06:25.386316686Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-26T04:06:25.386320667Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-26T04:06:25.386324573Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-26T04:06:25.386328504Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-26T04:06:25.386333126Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-26T04:06:25.386337164Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-26T04:06:25.386341789Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:06:25.386425437Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-26T04:06:25.386434052Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-26T04:06:25.386464022Z stdout: \t... 18 more", "2022-01-26T04:06:25.386471299Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-26T04:06:25.38655235Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-26T04:06:25.386559197Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-26T04:06:25.386564254Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-26T04:06:25.386568928Z stdout: \t... 19 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 6 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

