ok: got activation 9acda5b6b32141048da5b6b321e1047d { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "9acda5b6b32141048da5b6b321e1047d", "start": 1643144193955, "end": 1643144217869, "duration": 23914, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 3044, 0, 436 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "368190300694491", "startTimes": [ "2022-01-25 20:56:33.957", "2022-01-25 20:56:40.107", "2022-01-25 20:56:40.107", "2022-01-25 20:56:40.543" ] } }, "logs": [ "2022-01-25T20:56:33.957240927Z stdout: ExtractImageMetadata invoked", "2022-01-25T20:56:33.959469491Z stdout: Jan 25, 2022 8:56:33 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:33.959498888Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:40.107647711Z stdout: TransformMetadata invoked", "2022-01-25T20:56:40.107845921Z stdout: Handler invoked", "2022-01-25T20:56:40.108638312Z stdout: Jan 25, 2022 8:56:40 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:40.10865168Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:40.54390589Z stdout: Thumbnail invoked", "2022-01-25T20:56:40.545162195Z stdout: Jan 25, 2022 8:56:40 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:40.545188396Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:57.851001697Z stdout: Database failure", "2022-01-25T20:56:57.851696176Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T20:56:57.85192169Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T20:56:57.851935464Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T20:56:57.851945917Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T20:56:57.851955967Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T20:56:57.85198562Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T20:56:57.851998466Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-25T20:56:57.85200876Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T20:56:57.852018153Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.852053069Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.852063322Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.852117319Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.85215324Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.852170874Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.852184735Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.852200113Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.852223585Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.852238916Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.852260017Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.852275284Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.852289824Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.852304227Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.852317693Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.852331339Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.867553344Z stdout: main function failed", "2022-01-25T20:56:57.867576972Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.867673478Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T20:56:57.867684676Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-25T20:56:57.867698611Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T20:56:57.867713897Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.867727878Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.867740984Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.867753797Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.867778846Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.867788377Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.867811657Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.867832024Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.867838535Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.867861011Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.867890699Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.867898609Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.867923563Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.867937202Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.869646995Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.869659642Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.869664913Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.869670122Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T20:56:57.869675541Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T20:56:57.869682809Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T20:56:57.869690855Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 5353 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 22c884cbc6434d698884cbc6430d6920 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "22c884cbc6434d698884cbc6430d6920", "start": 1643144193968, "end": 1643144217909, "duration": 23941, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 2746, 0, 354 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "368190411962961", "startTimes": [ "2022-01-25 20:56:33.969", "2022-01-25 20:56:40.218", "2022-01-25 20:56:40.219", "2022-01-25 20:56:40.573" ] } }, "logs": [ "2022-01-25T20:56:33.970017811Z stdout: ExtractImageMetadata invoked", "2022-01-25T20:56:33.971234371Z stdout: Jan 25, 2022 8:56:33 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:33.971249736Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:40.218772737Z stdout: TransformMetadata invoked", "2022-01-25T20:56:40.219105662Z stdout: Handler invoked", "2022-01-25T20:56:40.220032742Z stdout: Jan 25, 2022 8:56:40 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:40.220049916Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:40.574100484Z stdout: Thumbnail invoked", "2022-01-25T20:56:40.575511236Z stdout: Jan 25, 2022 8:56:40 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:40.575528898Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:57.853099013Z stdout: Database failure", "2022-01-25T20:56:57.854143346Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T20:56:57.856241638Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T20:56:57.856259322Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T20:56:57.856266706Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T20:56:57.856274065Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T20:56:57.856280661Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T20:56:57.856287459Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-25T20:56:57.856293613Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T20:56:57.856299974Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.856306188Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.856312583Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.856318871Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.856324891Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.856331145Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.856351484Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.856361714Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.856371013Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.856380371Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.85638947Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.856400284Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.856406837Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.856413203Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.856421808Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.856431313Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.908001779Z stdout: main function failed", "2022-01-25T20:56:57.908057348Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.908219457Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T20:56:57.908244914Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-25T20:56:57.90825428Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T20:56:57.908279038Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.908288417Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.908345809Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.908357233Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.908365259Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.908374692Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.908398613Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.908429863Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.908445504Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.908458859Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.90847414Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.908486876Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.908498976Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.90864491Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.908661183Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.908672957Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.90868493Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.908725166Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T20:56:57.908747223Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T20:56:57.908785947Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T20:56:57.908840353Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 2872 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 6eddbddebbd04e329dbddebbd0fe3202 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "6eddbddebbd04e329dbddebbd0fe3202", "start": 1643144195984, "end": 1643144217864, "duration": 21880, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 6086, 0, 765 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "368192903391251", "startTimes": [ "2022-01-25 20:56:36.006", "2022-01-25 20:56:43.808", "2022-01-25 20:56:43.809", "2022-01-25 20:56:44.574" ] } }, "logs": [ "2022-01-25T20:56:36.007093565Z stdout: ExtractImageMetadata invoked", "2022-01-25T20:56:36.008242052Z stdout: Jan 25, 2022 8:56:36 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:36.008260929Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:43.809100187Z stdout: TransformMetadata invoked", "2022-01-25T20:56:43.809242641Z stdout: Handler invoked", "2022-01-25T20:56:43.810036336Z stdout: Jan 25, 2022 8:56:43 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:43.810052929Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:44.574214542Z stdout: Thumbnail invoked", "2022-01-25T20:56:44.575192816Z stdout: Jan 25, 2022 8:56:44 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:44.575208367Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:57.851478725Z stdout: Database failure", "2022-01-25T20:56:57.852103676Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T20:56:57.852280274Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T20:56:57.852292439Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T20:56:57.852307737Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T20:56:57.852369985Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T20:56:57.852393194Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T20:56:57.852404703Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-25T20:56:57.852410171Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T20:56:57.852415736Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.852432294Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.85247286Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.852482709Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.852489403Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.852497028Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.852560571Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.852570006Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.852577746Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.852595537Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.852604623Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.852631883Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.852662057Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.852673137Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.852700977Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.85271499Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.863513593Z stdout: main function failed", "2022-01-25T20:56:57.863529724Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.863664091Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T20:56:57.863683978Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-25T20:56:57.863698275Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T20:56:57.863707604Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.86371628Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.863741755Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.863751344Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.863759418Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.863769502Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.863777419Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.863786285Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.863795155Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.863814832Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.863823605Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.863841913Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.863860672Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.8638737Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.863889191Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.863931383Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.863958794Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.864290244Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T20:56:57.864309416Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T20:56:57.864318907Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T20:56:57.864344908Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 1378 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation dcffdeabd12b4846bfdeabd12b48460e { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "dcffdeabd12b4846bfdeabd12b48460e", "start": 1643144196088, "end": 1643144217919, "duration": 21831, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 6002, 0, 725 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "368194805135074", "startTimes": [ "2022-01-25 20:56:36.090", "2022-01-25 20:56:43.622", "2022-01-25 20:56:43.623", "2022-01-25 20:56:44.349" ] } }, "logs": [ "2022-01-25T20:56:36.091078388Z stdout: ExtractImageMetadata invoked", "2022-01-25T20:56:36.093490176Z stdout: Jan 25, 2022 8:56:36 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:36.093507872Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:43.622869391Z stdout: TransformMetadata invoked", "2022-01-25T20:56:43.623063634Z stdout: Handler invoked", "2022-01-25T20:56:43.62403953Z stdout: Jan 25, 2022 8:56:43 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:43.624051479Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:44.349312203Z stdout: Thumbnail invoked", "2022-01-25T20:56:44.351514862Z stdout: Jan 25, 2022 8:56:44 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:44.351563466Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:57.850493073Z stdout: Database failure", "2022-01-25T20:56:57.851663259Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T20:56:57.852014534Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T20:56:57.852046512Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T20:56:57.852115709Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T20:56:57.852126614Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T20:56:57.852236612Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T20:56:57.852271846Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-25T20:56:57.852290539Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T20:56:57.852325794Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.852398805Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.852413862Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.852441066Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.852454063Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.852460481Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.852483863Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.852496387Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.852503561Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.852567118Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.852587738Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.852607552Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.852660264Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.852673172Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.852709761Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.852718684Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.862585009Z stdout: main function failed", "2022-01-25T20:56:57.862617022Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.862720352Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T20:56:57.86273274Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-25T20:56:57.862738886Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T20:56:57.862744125Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.862773134Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.862781337Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.862792411Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.862803344Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.862813422Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.862844673Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.862851767Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.862860036Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.862875714Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.862894256Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.862998596Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.86300501Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.863017993Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.863023458Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.863055687Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.863093804Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.863354153Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T20:56:57.863380653Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T20:56:57.863387071Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T20:56:57.918492412Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 977 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 35f5e993e6994188b5e993e6995188d0 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "35f5e993e6994188b5e993e6995188d0", "start": 1643144196446, "end": 1643144217869, "duration": 21423, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 5682, 0, 713 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "368194819897092", "startTimes": [ "2022-01-25 20:56:36.448", "2022-01-25 20:56:43.637", "2022-01-25 20:56:43.637", "2022-01-25 20:56:44.350" ] } }, "logs": [ "2022-01-25T20:56:36.44834252Z stdout: ExtractImageMetadata invoked", "2022-01-25T20:56:36.449279794Z stdout: Jan 25, 2022 8:56:36 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:36.449314985Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:43.637453996Z stdout: TransformMetadata invoked", "2022-01-25T20:56:43.637914356Z stdout: Handler invoked", "2022-01-25T20:56:43.639020409Z stdout: Jan 25, 2022 8:56:43 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:43.639052246Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:44.350496513Z stdout: Thumbnail invoked", "2022-01-25T20:56:44.353952794Z stdout: Jan 25, 2022 8:56:44 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:44.353970478Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:57.858306685Z stdout: Database failure", "2022-01-25T20:56:57.858865691Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T20:56:57.859063539Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T20:56:57.859083249Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T20:56:57.859092755Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T20:56:57.859117142Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T20:56:57.85914688Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T20:56:57.859157439Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-25T20:56:57.859190212Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T20:56:57.859213159Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.859240256Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.859248598Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.859271214Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.859291115Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.859333549Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.859357024Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.859367113Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.859390638Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.859405988Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.859461265Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.859496119Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.859507891Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.859517526Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.859540421Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.859559763Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.867380116Z stdout: main function failed", "2022-01-25T20:56:57.867440492Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.867559237Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T20:56:57.867589956Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-25T20:56:57.867603268Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T20:56:57.867627159Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.867637437Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.867647322Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.867676857Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.86768595Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.867710084Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.867716889Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.867742153Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.867755725Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.867778977Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.867798942Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.867817802Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.867840413Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.867862199Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.867882301Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.867902983Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.867946156Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.868090795Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T20:56:57.868105754Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T20:56:57.868126243Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T20:56:57.868184686Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 838 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 9ca1b4e7e7d84f3aa1b4e7e7d83f3a5b { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "9ca1b4e7e7d84f3aa1b4e7e7d83f3a5b", "start": 1643144196448, "end": 1643144217868, "duration": 21420, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 6813, 0, 392 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "368195118821305", "startTimes": [ "2022-01-25 20:56:36.508", "2022-01-25 20:56:44.924", "2022-01-25 20:56:44.925", "2022-01-25 20:56:45.318" ] } }, "logs": [ "2022-01-25T20:56:36.50870309Z stdout: ExtractImageMetadata invoked", "2022-01-25T20:56:36.509986571Z stdout: Jan 25, 2022 8:56:36 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:36.510021785Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:44.925186943Z stdout: TransformMetadata invoked", "2022-01-25T20:56:44.925968378Z stdout: Handler invoked", "2022-01-25T20:56:44.92726602Z stdout: Jan 25, 2022 8:56:44 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:44.927294007Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:45.318771205Z stdout: Thumbnail invoked", "2022-01-25T20:56:45.321163763Z stdout: Jan 25, 2022 8:56:45 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:45.321192896Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:57.85164781Z stdout: Database failure", "2022-01-25T20:56:57.852472013Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T20:56:57.853811277Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T20:56:57.853837421Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T20:56:57.853853107Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T20:56:57.853867356Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T20:56:57.853880112Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T20:56:57.853893849Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-25T20:56:57.853907242Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T20:56:57.853921198Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.853935596Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.853950394Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.853964613Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.853978159Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.854009694Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.854028749Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.854041606Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.854054025Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.854065875Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.854078207Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.854091261Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.854103879Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.854115761Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.854127242Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.854139373Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.865536028Z stdout: main function failed", "2022-01-25T20:56:57.865578407Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.865659008Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T20:56:57.865668373Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-25T20:56:57.865673902Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T20:56:57.865686152Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.865692069Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.86569729Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.865735086Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.865753959Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.865761636Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.865767201Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.865772627Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.865777683Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.865784294Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.865824733Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.865839777Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.865866412Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.865896434Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.865905904Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.865910904Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.865927107Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.866053298Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T20:56:57.866067491Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T20:56:57.866076389Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T20:56:57.866097048Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 330 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 673b57630eda4787bb57630eda17872f { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "673b57630eda4787bb57630eda17872f", "start": 1643144200187, "end": 1643144217865, "duration": 17678, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 1048, 0, 186 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "368191919272601", "startTimes": [ "2022-01-25 20:56:40.189", "2022-01-25 20:56:42.824", "2022-01-25 20:56:42.825", "2022-01-25 20:56:43.011" ] } }, "logs": [ "2022-01-25T20:56:40.189847971Z stdout: ExtractImageMetadata invoked", "2022-01-25T20:56:40.191127874Z stdout: Jan 25, 2022 8:56:40 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:40.191142414Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:42.824778397Z stdout: TransformMetadata invoked", "2022-01-25T20:56:42.825164929Z stdout: Handler invoked", "2022-01-25T20:56:42.825951Z stdout: Jan 25, 2022 8:56:42 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:42.825967437Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:43.011736276Z stdout: Thumbnail invoked", "2022-01-25T20:56:43.012909721Z stdout: Jan 25, 2022 8:56:43 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:43.012926267Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:57.853490042Z stdout: Database failure", "2022-01-25T20:56:57.856100109Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T20:56:57.856113085Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T20:56:57.856118985Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T20:56:57.856124426Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T20:56:57.856129593Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T20:56:57.856134427Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T20:56:57.856139024Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-25T20:56:57.856143545Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T20:56:57.856148079Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.856152876Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.856157664Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.856162774Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.856167334Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.856172214Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.856187548Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.856193307Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.856198118Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.856202789Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.856207666Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.856212187Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.856216686Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.856221135Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.85622588Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.856230276Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.864788067Z stdout: main function failed", "2022-01-25T20:56:57.864806277Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.864904779Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T20:56:57.864918483Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-25T20:56:57.864970068Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T20:56:57.86498999Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.865025412Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.865035767Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.865044965Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.86505641Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.865068115Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.865088186Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.86512881Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.865141353Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.865166595Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.865181212Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.865201158Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.865218192Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.865246618Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.865256306Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.865265423Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.865308631Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.865433668Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T20:56:57.8654488Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T20:56:57.865468003Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T20:56:57.865498073Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 3579 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 74ef860b9226427daf860b9226627d90 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "74ef860b9226427daf860b9226627d90", "start": 1643144201129, "end": 1643144217907, "duration": 16778, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 138, 0, 196 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "368191909181964", "startTimes": [ "2022-01-25 20:56:41.130", "2022-01-25 20:56:42.814", "2022-01-25 20:56:42.814", "2022-01-25 20:56:43.012" ] } }, "logs": [ "2022-01-25T20:56:41.13090908Z stdout: ExtractImageMetadata invoked", "2022-01-25T20:56:41.132161827Z stdout: Jan 25, 2022 8:56:41 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:41.132179745Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:42.814864301Z stdout: TransformMetadata invoked", "2022-01-25T20:56:42.815039449Z stdout: Handler invoked", "2022-01-25T20:56:42.815780538Z stdout: Jan 25, 2022 8:56:42 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:42.81579828Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:43.012153364Z stdout: Thumbnail invoked", "2022-01-25T20:56:43.013457021Z stdout: Jan 25, 2022 8:56:43 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:43.013476833Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:57.851405146Z stdout: Database failure", "2022-01-25T20:56:57.852147185Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T20:56:57.852162107Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T20:56:57.852171596Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T20:56:57.852181909Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T20:56:57.852237683Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T20:56:57.852247335Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T20:56:57.852303332Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-25T20:56:57.852321016Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T20:56:57.852327285Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.852332801Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.852386031Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.852399918Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.852409012Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.852417624Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.852446853Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.852456784Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.85246253Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.852494973Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.852504808Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.852509838Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.852514576Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.852544731Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.852555668Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.852563436Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.906503479Z stdout: main function failed", "2022-01-25T20:56:57.906504681Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.906565513Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T20:56:57.906572919Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-25T20:56:57.906578012Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T20:56:57.906603451Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.906625294Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.906635144Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.906650187Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.906658994Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.906666722Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.906676394Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.906686395Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.906703632Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.906737005Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.906747013Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.90675278Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.906774439Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.906814099Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.906820402Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.906825824Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.906847282Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.906956455Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T20:56:57.906964285Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T20:56:57.906976Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T20:56:57.906993432Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 4018 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 1042025964924bbe82025964926bbe9d { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "1042025964924bbe82025964926bbe9d", "start": 1643144201746, "end": 1643144217910, "duration": 16164, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 16105 ], "imageName": "test.jpg", "startTimes": [ "2022-01-25 20:56:41.747" ] } }, "logs": [ "2022-01-25T20:56:41.747813134Z stdout: ExtractImageMetadata invoked", "2022-01-25T20:56:41.748721522Z stdout: Jan 25, 2022 8:56:41 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:41.748747467Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:57.854425432Z stdout: Database failure", "2022-01-25T20:56:57.854449759Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T20:56:57.854461161Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T20:56:57.854470589Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T20:56:57.854490855Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T20:56:57.854500263Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T20:56:57.854508214Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T20:56:57.854516173Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-25T20:56:57.854524122Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T20:56:57.854532633Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.854540432Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.854548022Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.85455634Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.85457951Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.854589169Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.854599268Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.854608628Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.854617573Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.85462665Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.854636416Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.854645381Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.854654411Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.854663674Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.854673336Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.854682949Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.908715554Z stdout: main function failed", "2022-01-25T20:56:57.908765928Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.908929479Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-25T20:56:57.908957002Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-25T20:56:57.908970025Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-25T20:56:57.908978543Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T20:56:57.909001643Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.909011335Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.909019159Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.909026453Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.909034851Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.909042277Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.909068619Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.909077641Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.909097397Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.909139623Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.90916616Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.909179669Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.909191721Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.909205728Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.909217846Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.909247752Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.909292384Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.909425341Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T20:56:57.909441661Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-25T20:56:57.909480719Z stdout: \t... 19 more", "2022-01-25T20:56:57.909504557Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.909640961Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T20:56:57.909655206Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T20:56:57.909667237Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T20:56:57.909676788Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 4143 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 908904cac2bc44678904cac2bc9467cc { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "908904cac2bc44678904cac2bc9467cc", "start": 1643144201748, "end": 1643144217864, "duration": 16116, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 16103 ], "imageName": "test.jpg", "startTimes": [ "2022-01-25 20:56:41.750" ] } }, "logs": [ "2022-01-25T20:56:41.750714826Z stdout: ExtractImageMetadata invoked", "2022-01-25T20:56:41.752225872Z stdout: Jan 25, 2022 8:56:41 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:41.752245089Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:57.853750106Z stdout: Database failure", "2022-01-25T20:56:57.854205293Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T20:56:57.854342709Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T20:56:57.854355011Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T20:56:57.856114776Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T20:56:57.856138877Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T20:56:57.856150508Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T20:56:57.856160739Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-25T20:56:57.856170167Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T20:56:57.856179889Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.856188952Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.856198126Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.856206488Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.856215202Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.856223841Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.85623213Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.856240346Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.856249355Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.856258254Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.856267091Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.856276831Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.856283622Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.856297729Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.856303044Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.856307934Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.863394214Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.863417172Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-25T20:56:57.863405012Z stdout: main function failed", "2022-01-25T20:56:57.863442318Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-25T20:56:57.863469345Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-25T20:56:57.863480796Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T20:56:57.863489519Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.863513604Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.863524785Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.86353355Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.86354331Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.863551175Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.863588992Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.863647163Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.863662123Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.863692544Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.863708971Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.863717691Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.863726231Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.863769901Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.863784921Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.863835836Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.86391867Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.864005005Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T20:56:57.864029099Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-25T20:56:57.864040503Z stdout: \t... 19 more", "2022-01-25T20:56:57.864050205Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.864162107Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T20:56:57.864177454Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T20:56:57.864187857Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T20:56:57.864196997Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 3635 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 754c641c59fe42c68c641c59fe72c6de { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "754c641c59fe42c68c641c59fe72c6de", "start": 1643144201748, "end": 1643144217864, "duration": 16116, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 16103 ], "imageName": "test.jpg", "startTimes": [ "2022-01-25 20:56:41.750" ] } }, "logs": [ "2022-01-25T20:56:41.750619635Z stdout: ExtractImageMetadata invoked", "2022-01-25T20:56:41.751550907Z stdout: Jan 25, 2022 8:56:41 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:41.751562652Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:57.851963787Z stdout: Database failure", "2022-01-25T20:56:57.852494148Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T20:56:57.85268841Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T20:56:57.852700921Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T20:56:57.85271179Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T20:56:57.852724406Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T20:56:57.852751237Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T20:56:57.852789545Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-25T20:56:57.852802688Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T20:56:57.852821086Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.852838569Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.852864237Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.852871465Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.852882876Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.852908126Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.8529157Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.852934476Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.852940973Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.852966586Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.852989982Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.853003214Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.853068976Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.853089628Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.853103734Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.853112934Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.863186658Z stdout: main function failed", "2022-01-25T20:56:57.863218526Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.86339325Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-25T20:56:57.863405391Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-25T20:56:57.863411658Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-25T20:56:57.863417246Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T20:56:57.863422189Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.863427407Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.863432545Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.863437443Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.863442197Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.863446725Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.863451539Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.863456022Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.863462413Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.863467632Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.8634782Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.863483292Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.863488238Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.863494728Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.863526153Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.863771802Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.863785854Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.86392407Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T20:56:57.863938544Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-25T20:56:57.863943832Z stdout: \t... 19 more", "2022-01-25T20:56:57.863948784Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.864054594Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T20:56:57.864062867Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T20:56:57.864097421Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T20:56:57.864114256Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 3126 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation f44da93d477b4c2f8da93d477b3c2fb7 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "f44da93d477b4c2f8da93d477b3c2fb7", "start": 1643144201752, "end": 1643144217924, "duration": 16172, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 16101 ], "imageName": "test.jpg", "startTimes": [ "2022-01-25 20:56:41.753" ] } }, "logs": [ "2022-01-25T20:56:41.75409006Z stdout: ExtractImageMetadata invoked", "2022-01-25T20:56:41.756532672Z stdout: Jan 25, 2022 8:56:41 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:41.756581801Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:57.854680799Z stdout: Database failure", "2022-01-25T20:56:57.855547375Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T20:56:57.85570463Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T20:56:57.855737606Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T20:56:57.855750383Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T20:56:57.855755848Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T20:56:57.855761009Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T20:56:57.855769764Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-25T20:56:57.855795971Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T20:56:57.855803654Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.855862873Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.855897838Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.855908519Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.855915803Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.855936625Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.855945967Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.85595283Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.855958798Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.855964551Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.855973047Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.855980225Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.855986429Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.855992569Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.856000381Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.856008036Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.923798503Z stdout: main function failed", "2022-01-25T20:56:57.923839319Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.923887939Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-25T20:56:57.923899753Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-25T20:56:57.923909302Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-25T20:56:57.923923108Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T20:56:57.923932256Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.923940974Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.923949671Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.923958366Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.923969452Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.923978626Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.923987369Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.924018415Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.924028358Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.924037019Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.924047919Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.924056674Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.924065183Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.924073677Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.924082192Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.92409264Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.924101289Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.924155315Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T20:56:57.924173772Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-25T20:56:57.924183178Z stdout: \t... 19 more", "2022-01-25T20:56:57.924194067Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.92426179Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T20:56:57.924277516Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T20:56:57.924286762Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T20:56:57.924303277Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 2639 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation ac1fc0a3d83946089fc0a3d839b608cd { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "ac1fc0a3d83946089fc0a3d839b608cd", "start": 1643144205495, "end": 1643144217912, "duration": 12417, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 12355 ], "imageName": "test.jpg", "startTimes": [ "2022-01-25 20:56:45.497" ] } }, "logs": [ "2022-01-25T20:56:45.497332315Z stdout: ExtractImageMetadata invoked", "2022-01-25T20:56:45.498724347Z stdout: Jan 25, 2022 8:56:45 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:45.498772959Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:57.852818771Z stdout: Database failure", "2022-01-25T20:56:57.852867332Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T20:56:57.853159652Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T20:56:57.853177114Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T20:56:57.853187642Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T20:56:57.853207827Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T20:56:57.853217587Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T20:56:57.853225577Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-25T20:56:57.853233948Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T20:56:57.853242Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.853250347Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.853264898Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.853273972Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.853283125Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.853663206Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.853681793Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.853690361Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.853698361Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.853745798Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.853783421Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.853800762Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.853813965Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.853826966Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.853839476Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.853852223Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.910142913Z stdout: main function failed", "2022-01-25T20:56:57.910243697Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.910376496Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-25T20:56:57.910396155Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-25T20:56:57.910420175Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-25T20:56:57.910430314Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T20:56:57.910469388Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.910508676Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.910525418Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.91053863Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.91061003Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.910639743Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.910658298Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.910672695Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.910720178Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.910737224Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.910750254Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.910775115Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.910945702Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.911022805Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.911041372Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.911113708Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.911181217Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.911467965Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T20:56:57.911482222Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-25T20:56:57.911491243Z stdout: \t... 19 more", "2022-01-25T20:56:57.911500163Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.911679516Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T20:56:57.911692985Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T20:56:57.911702177Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T20:56:57.911711157Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 5873 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 73a2f2d45e6742d6a2f2d45e6792d6f9 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "73a2f2d45e6742d6a2f2d45e6792d6f9", "start": 1643144205785, "end": 1643144217864, "duration": 12079, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 1573, 0, 472 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "368198017303571", "startTimes": [ "2022-01-25 20:56:45.787", "2022-01-25 20:56:48.922", "2022-01-25 20:56:48.923", "2022-01-25 20:56:49.395" ] } }, "logs": [ "2022-01-25T20:56:45.787339233Z stdout: ExtractImageMetadata invoked", "2022-01-25T20:56:45.788732709Z stdout: Jan 25, 2022 8:56:45 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:45.788749426Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:48.922811705Z stdout: TransformMetadata invoked", "2022-01-25T20:56:48.923157479Z stdout: Handler invoked", "2022-01-25T20:56:48.924275385Z stdout: Jan 25, 2022 8:56:48 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:48.924292281Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:49.395315437Z stdout: Thumbnail invoked", "2022-01-25T20:56:49.396594817Z stdout: Jan 25, 2022 8:56:49 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:56:49.396616415Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T20:56:57.85260136Z stdout: Database failure", "2022-01-25T20:56:57.85301948Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T20:56:57.853227367Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T20:56:57.853252143Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T20:56:57.853300701Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T20:56:57.853316392Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T20:56:57.853343737Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T20:56:57.853351091Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-25T20:56:57.853397082Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T20:56:57.853412184Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.853442337Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.853451905Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.853474046Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.85349894Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.853524601Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.853552803Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.85356369Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.853587462Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.853606255Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.853615863Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.853648623Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.853678068Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.853737872Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.853748663Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.853756129Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.863519867Z stdout: main function failed", "2022-01-25T20:56:57.863550125Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.863778229Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T20:56:57.863790501Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-25T20:56:57.863795915Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T20:56:57.863802202Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T20:56:57.863844581Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T20:56:57.863866314Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T20:56:57.863878351Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T20:56:57.863888356Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T20:56:57.863899012Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T20:56:57.863932504Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.863946411Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T20:56:57.863980707Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T20:56:57.864009016Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T20:56:57.864019493Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T20:56:57.864047848Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T20:56:57.864079296Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T20:56:57.864092174Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T20:56:57.864110911Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T20:56:57.864121237Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T20:56:57.864149464Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T20:56:57.864322907Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T20:56:57.864344366Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T20:56:57.864352689Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T20:56:57.864383452Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 5662 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 2afb69c2b8284d70bb69c2b828ed7013 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "2afb69c2b8284d70bb69c2b828ed7013", "start": 1643144399527, "end": 1643144402762, "duration": 3235, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 3223 ], "imageName": "test.jpg", "startTimes": [ "2022-01-25 20:59:59.529" ] } }, "logs": [ "2022-01-25T20:59:59.529329254Z stdout: ExtractImageMetadata invoked", "2022-01-25T20:59:59.530468709Z stdout: Jan 25, 2022 8:59:59 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T20:59:59.530486985Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:00:02.751880255Z stdout: Database failure", "2022-01-25T21:00:02.752389048Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T21:00:02.752485947Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T21:00:02.752504092Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T21:00:02.752519342Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T21:00:02.752529099Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T21:00:02.752539833Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T21:00:02.752571818Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-25T21:00:02.752586598Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:00:02.752592689Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:02.752600019Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:02.75261178Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:02.752625188Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:02.752661943Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:02.752674757Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:02.752683557Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:02.752691853Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:02.752704085Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:02.752712955Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:02.752722661Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:02.752731111Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:02.752740788Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:02.752750071Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:02.752761767Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:02.752770727Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:02.761134714Z stdout: main function failed", "2022-01-25T21:00:02.761160609Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:02.761217631Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-25T21:00:02.761250249Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-25T21:00:02.761262009Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-25T21:00:02.761267445Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:00:02.761272606Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:02.761277723Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:02.761283928Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:02.761289036Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:02.761307913Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:02.76131841Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:02.761327153Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:02.761333332Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:02.761359086Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:02.761368921Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:02.761394354Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:02.761400136Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:02.761405721Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:02.761413207Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:02.761437396Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:02.761618954Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:02.761685927Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:02.761826067Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T21:00:02.761835898Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-25T21:00:02.761879466Z stdout: \t... 19 more", "2022-01-25T21:00:02.761899357Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:02.762059596Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T21:00:02.762086249Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T21:00:02.762099366Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T21:00:02.762112086Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 7 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation aeb28e5ac7a14946b28e5ac7a1c946c2 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "aeb28e5ac7a14946b28e5ac7a1c946c2", "start": 1643144436605, "end": 1643144453835, "duration": 17230, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 4302, 0, 170 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "368431616411097", "startTimes": [ "2022-01-25 21:00:36.606", "2022-01-25 21:00:42.521", "2022-01-25 21:00:42.522", "2022-01-25 21:00:42.692" ] } }, "logs": [ "2022-01-25T21:00:36.606930851Z stdout: ExtractImageMetadata invoked", "2022-01-25T21:00:36.608103894Z stdout: Jan 25, 2022 9:00:36 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:00:36.60812036Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:00:42.52210604Z stdout: TransformMetadata invoked", "2022-01-25T21:00:42.522295382Z stdout: Handler invoked", "2022-01-25T21:00:42.523117209Z stdout: Jan 25, 2022 9:00:42 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:00:42.52313528Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:00:42.692342578Z stdout: Thumbnail invoked", "2022-01-25T21:00:42.693114442Z stdout: Jan 25, 2022 9:00:42 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:00:42.693124786Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:00:53.825938272Z stdout: Database failure", "2022-01-25T21:00:53.825965902Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T21:00:53.826402308Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T21:00:53.826417002Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T21:00:53.826426755Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T21:00:53.826464156Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T21:00:53.826473684Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T21:00:53.826482172Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-25T21:00:53.826490313Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T21:00:53.826498072Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.82650638Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.826527608Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.826535658Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.826542813Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.826549803Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.826557521Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.826565866Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.826573482Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.826586559Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.826594895Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.826602503Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.826609732Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.826616968Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.826623916Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.826631474Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.834473064Z stdout: main function failed", "2022-01-25T21:00:53.834499931Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.834619675Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T21:00:53.834633431Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-25T21:00:53.834642393Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T21:00:53.834650476Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.834658198Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.834685081Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.83469432Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.834702488Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.834709908Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.834743526Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.834930895Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.834947949Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.834968787Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.834977487Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.834985023Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.834992429Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.834999688Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.835007028Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.835014616Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.835021744Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.835085222Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T21:00:53.8350973Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T21:00:53.835102688Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T21:00:53.835107518Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 5 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 9c41d742f36e46f581d742f36e66f570 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "9c41d742f36e46f581d742f36e66f570", "start": 1643144437102, "end": 1643144453840, "duration": 16738, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 4365, 0, 224 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "368434109651667", "startTimes": [ "2022-01-25 21:00:37.104", "2022-01-25 21:00:42.927", "2022-01-25 21:00:42.927", "2022-01-25 21:00:43.151" ] } }, "logs": [ "2022-01-25T21:00:37.105189895Z stdout: ExtractImageMetadata invoked", "2022-01-25T21:00:37.10834662Z stdout: Jan 25, 2022 9:00:37 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:00:37.108385722Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:00:42.927481208Z stdout: TransformMetadata invoked", "2022-01-25T21:00:42.927647662Z stdout: Handler invoked", "2022-01-25T21:00:42.92839808Z stdout: Jan 25, 2022 9:00:42 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:00:42.928414303Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:00:43.152059971Z stdout: Thumbnail invoked", "2022-01-25T21:00:43.153509525Z stdout: Jan 25, 2022 9:00:43 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:00:43.153533447Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:00:53.829663214Z stdout: Database failure", "2022-01-25T21:00:53.82967901Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T21:00:53.829811763Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T21:00:53.829819205Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T21:00:53.829831949Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T21:00:53.829842221Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T21:00:53.829874495Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T21:00:53.829885304Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-25T21:00:53.829899334Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T21:00:53.829908824Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.82992537Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.829942292Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.829955543Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.829983389Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.829989581Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.8300119Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.830022966Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.830050058Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.830061286Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.830068939Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.830078672Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.830089934Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.830098621Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.830117543Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.83014218Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.839105636Z stdout: main function failed", "2022-01-25T21:00:53.839140142Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.839196657Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T21:00:53.839210247Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-25T21:00:53.839218979Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T21:00:53.83923798Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.839246801Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.839256321Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.839264171Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.839271341Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.839278395Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.839285194Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.839291914Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.839299Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.83930592Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.839314676Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.839322116Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.839329098Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.839336822Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.8393437Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.839351802Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.839358811Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.839498358Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T21:00:53.839514132Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T21:00:53.83951911Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T21:00:53.839523347Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 5 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 319d8e751e8d49bd9d8e751e8da9bd17 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "319d8e751e8d49bd9d8e751e8da9bd17", "start": 1643144439117, "end": 1643144453909, "duration": 14792, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 475, 0, 948 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "368431430260247", "startTimes": [ "2022-01-25 21:00:39.119", "2022-01-25 21:00:41.237", "2022-01-25 21:00:41.237", "2022-01-25 21:00:42.185" ] } }, "logs": [ "2022-01-25T21:00:39.119748587Z stdout: ExtractImageMetadata invoked", "2022-01-25T21:00:39.121037134Z stdout: Jan 25, 2022 9:00:39 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:00:39.121083859Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:00:41.237240629Z stdout: TransformMetadata invoked", "2022-01-25T21:00:41.237415202Z stdout: Handler invoked", "2022-01-25T21:00:41.238254184Z stdout: Jan 25, 2022 9:00:41 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:00:41.238270432Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:00:42.185673134Z stdout: Thumbnail invoked", "2022-01-25T21:00:42.188359067Z stdout: Jan 25, 2022 9:00:42 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:00:42.188383248Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:00:53.829164402Z stdout: Database failure", "2022-01-25T21:00:53.829180093Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T21:00:53.829324475Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T21:00:53.829347503Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T21:00:53.829361444Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T21:00:53.829384734Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T21:00:53.829400861Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T21:00:53.829423898Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-25T21:00:53.829433699Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T21:00:53.829443356Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.829450818Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.829507115Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.829519998Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.829528422Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.829538936Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.829547508Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.829607108Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.829618372Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.829623569Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.829628568Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.829868525Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.82987991Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.829888773Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.829896602Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.829904318Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.908186783Z stdout: main function failed", "2022-01-25T21:00:53.908186792Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.908253606Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T21:00:53.908259945Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-25T21:00:53.908265204Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T21:00:53.90827031Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.908276792Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.908282498Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.908309382Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.908327702Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.908356215Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.908361959Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.908366833Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.908384752Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.908395335Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.908410231Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.908448122Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.908497446Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.908510461Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.908519839Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.908528351Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.908548843Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.90871387Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T21:00:53.908728625Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T21:00:53.90873695Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T21:00:53.908746073Z stdout: \t... 18 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 6 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 976ca316482f4499aca316482ff4998c { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "976ca316482f4499aca316482ff4998c", "start": 1643144442256, "end": 1643144453921, "duration": 11665, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 11573 ], "imageName": "test.jpg", "startTimes": [ "2022-01-25 21:00:42.257" ] } }, "logs": [ "2022-01-25T21:00:42.258056252Z stdout: ExtractImageMetadata invoked", "2022-01-25T21:00:42.258770477Z stdout: Jan 25, 2022 9:00:42 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:00:42.258779368Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:00:53.830079707Z stdout: Database failure", "2022-01-25T21:00:53.830115083Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T21:00:53.830274777Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T21:00:53.830286887Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T21:00:53.830312748Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T21:00:53.830334696Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T21:00:53.830365352Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T21:00:53.830446058Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-25T21:00:53.83046295Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:00:53.830645005Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.830657994Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.830664615Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.830671633Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.830717852Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.830731591Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.830738891Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.830745728Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.830765238Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.830804176Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.830829917Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.830857999Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.830937433Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.83103332Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.831066851Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.831079497Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.919224802Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.919224845Z stdout: main function failed", "2022-01-25T21:00:53.919773523Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-25T21:00:53.919807536Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-25T21:00:53.919818279Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-25T21:00:53.919827645Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:00:53.919836812Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.919845663Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.91985426Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.919862952Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.919871193Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.919879629Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.919888169Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.919896581Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.919905089Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.919913434Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.919922094Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.919930545Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.919939114Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.919947522Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.919956074Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.919964451Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.920003564Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.920080935Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T21:00:53.9201447Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-25T21:00:53.920167192Z stdout: \t... 19 more", "2022-01-25T21:00:53.92019351Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.920270385Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T21:00:53.920287472Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T21:00:53.920298223Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T21:00:53.920307478Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 1146 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation d9dcce185ff343239cce185ff323234f { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "d9dcce185ff343239cce185ff323234f", "start": 1643144442655, "end": 1643144453836, "duration": 11181, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 11168 ], "imageName": "test.jpg", "startTimes": [ "2022-01-25 21:00:42.657" ] } }, "logs": [ "2022-01-25T21:00:42.657548874Z stdout: ExtractImageMetadata invoked", "2022-01-25T21:00:42.658586708Z stdout: Jan 25, 2022 9:00:42 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:00:42.658617361Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:00:53.825245316Z stdout: Database failure", "2022-01-25T21:00:53.82527821Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T21:00:53.825320754Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T21:00:53.825337208Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T21:00:53.825347121Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T21:00:53.825355867Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T21:00:53.825362546Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T21:00:53.825410047Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-25T21:00:53.825429843Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:00:53.825440002Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.825449048Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.825464415Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.825471534Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.825478466Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.825487479Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.825499041Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.825542694Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.82556679Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.825586892Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.825593209Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.82560544Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.825611379Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.825617039Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.82562312Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.825628485Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.835792614Z stdout: main function failed", "2022-01-25T21:00:53.835792854Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.835856467Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-25T21:00:53.835868437Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-25T21:00:53.835874545Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-25T21:00:53.835881926Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:00:53.835887191Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.83589223Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.835897392Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.835921865Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.835939987Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.835946112Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.835951148Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.835984469Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.835993117Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.835998317Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.836003377Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.836008383Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.836013288Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.836021291Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.836042433Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.836051015Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.836059997Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.836132426Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T21:00:53.836151157Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-25T21:00:53.836161387Z stdout: \t... 19 more", "2022-01-25T21:00:53.836171678Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.836263023Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T21:00:53.836277157Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T21:00:53.836284591Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T21:00:53.836292275Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 1051 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation ac179f89b5744d8d979f89b574ed8dd7 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "ac179f89b5744d8d979f89b574ed8dd7", "start": 1643144442657, "end": 1643144453921, "duration": 11264, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 11168 ], "imageName": "test.jpg", "startTimes": [ "2022-01-25 21:00:42.658" ] } }, "logs": [ "2022-01-25T21:00:42.658960408Z stdout: ExtractImageMetadata invoked", "2022-01-25T21:00:42.660143856Z stdout: Jan 25, 2022 9:00:42 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:00:42.660156802Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:00:53.82598668Z stdout: Database failure", "2022-01-25T21:00:53.826014934Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T21:00:53.826212755Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T21:00:53.826370487Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T21:00:53.826384502Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T21:00:53.826459956Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T21:00:53.826486022Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T21:00:53.826498607Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-25T21:00:53.826516073Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:00:53.826541404Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.826699035Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.826721298Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.826735908Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.826778156Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.826786895Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.826791855Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.826813805Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.827002814Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.827027928Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.827044433Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.827059013Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.82709719Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.827123185Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.827195036Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.827219039Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.91997889Z stdout: main function failed", "2022-01-25T21:00:53.920024906Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.920155394Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-25T21:00:53.920172243Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-25T21:00:53.920188758Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-25T21:00:53.920200655Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:00:53.920219789Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.920262664Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.920273775Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.920309145Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.920321219Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.920409869Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.920440199Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.920456396Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.920480624Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.920495695Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.92051528Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.920531819Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.920581519Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.920599325Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.920616307Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.920634812Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.920653594Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.92083822Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T21:00:53.920855809Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-25T21:00:53.920900987Z stdout: \t... 19 more", "2022-01-25T21:00:53.920912667Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.921134991Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T21:00:53.921167772Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T21:00:53.921185055Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T21:00:53.921200401Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 544 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 695d5f4a7d63428e9d5f4a7d63328e41 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "695d5f4a7d63428e9d5f4a7d63328e41", "start": 1643144442657, "end": 1643144453836, "duration": 11179, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 11166 ], "imageName": "test.jpg", "startTimes": [ "2022-01-25 21:00:42.659" ] } }, "logs": [ "2022-01-25T21:00:42.659503345Z stdout: ExtractImageMetadata invoked", "2022-01-25T21:00:42.660627923Z stdout: Jan 25, 2022 9:00:42 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:00:42.6606367Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:00:53.825351343Z stdout: Database failure", "2022-01-25T21:00:53.825443439Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T21:00:53.825662661Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T21:00:53.825711715Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T21:00:53.825733742Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T21:00:53.825752263Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T21:00:53.825769806Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T21:00:53.825811701Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-25T21:00:53.825830841Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:00:53.825849142Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.825925777Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.825951014Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.825968591Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.825986511Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.826003991Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.826022572Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.826040092Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.82605884Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.826076927Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.826096344Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.826142758Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.826196243Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.826439418Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.826454412Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.826462962Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.83510893Z stdout: main function failed", "2022-01-25T21:00:53.835151378Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.835243294Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-25T21:00:53.83525139Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-25T21:00:53.835273828Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-25T21:00:53.835289103Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:00:53.835306208Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.835314634Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.835341072Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.835349344Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.83535559Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.835360537Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.835387081Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.835429461Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.835440118Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.835467249Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.835477497Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.835497561Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.835506209Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.83553252Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.835547305Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.835556323Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.835587819Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.8357293Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T21:00:53.835742143Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-25T21:00:53.835759201Z stdout: \t... 19 more", "2022-01-25T21:00:53.835800901Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.835918263Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T21:00:53.835926773Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T21:00:53.835945454Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T21:00:53.835950679Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 37 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 681c4dfd1eb84e6f9c4dfd1eb81e6f93 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "681c4dfd1eb84e6f9c4dfd1eb81e6f93", "start": 1643144443124, "end": 1643144453842, "duration": 10718, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 10702 ], "imageName": "test.jpg", "startTimes": [ "2022-01-25 21:00:43.126" ] } }, "logs": [ "2022-01-25T21:00:43.126767805Z stdout: ExtractImageMetadata invoked", "2022-01-25T21:00:43.128230315Z stdout: Jan 25, 2022 9:00:43 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:00:43.128248999Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:00:53.829050651Z stdout: Database failure", "2022-01-25T21:00:53.829065083Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T21:00:53.829212166Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T21:00:53.829223416Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T21:00:53.829230161Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T21:00:53.829239175Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T21:00:53.829258528Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T21:00:53.829284763Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-25T21:00:53.829299848Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:00:53.829322076Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.829330738Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.829339392Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.829348125Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.82939008Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.829408607Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.829419567Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.829429016Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.829439332Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.829447991Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.829458099Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.829469131Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.829497398Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.829508211Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.829518782Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.829546764Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.841282816Z stdout: main function failed", "2022-01-25T21:00:53.841289895Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.841331666Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-25T21:00:53.841350731Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-25T21:00:53.841359288Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-25T21:00:53.841365516Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:00:53.841372004Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.841378883Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.841389625Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.841408578Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.841415186Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.841424888Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.841443965Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.841450542Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.841456121Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.84146232Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.841468031Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.841487388Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.841493868Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.841503359Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.841513309Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.841526798Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.841549779Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.841636565Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T21:00:53.841659862Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-25T21:00:53.841666796Z stdout: \t... 19 more", "2022-01-25T21:00:53.841673251Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.841769605Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T21:00:53.841778879Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T21:00:53.841784493Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T21:00:53.841790659Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 6 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 41697afcc8274617a97afcc8278617f7 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "41697afcc8274617a97afcc8278617f7", "start": 1643144443617, "end": 1643144453841, "duration": 10224, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 10208 ], "imageName": "test.jpg", "startTimes": [ "2022-01-25 21:00:43.621" ] } }, "logs": [ "2022-01-25T21:00:43.621685232Z stdout: ExtractImageMetadata invoked", "2022-01-25T21:00:43.624397039Z stdout: Jan 25, 2022 9:00:43 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:00:43.62444564Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:00:53.829616946Z stdout: Database failure", "2022-01-25T21:00:53.829639085Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T21:00:53.829771179Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T21:00:53.829786487Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T21:00:53.82982854Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T21:00:53.829877683Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T21:00:53.829888321Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T21:00:53.829926528Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-25T21:00:53.829947044Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:00:53.829956913Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.829985025Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.82999735Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.830005836Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.830056022Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.830073607Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.830083495Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.830106364Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.830117518Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.830125937Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.830159422Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.830176474Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.830185061Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.830736691Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.83075069Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.830758914Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.839449348Z stdout: main function failed", "2022-01-25T21:00:53.839510832Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.839567766Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-25T21:00:53.839577368Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-25T21:00:53.839603258Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-25T21:00:53.839611185Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:00:53.839617929Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.839660779Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.839668838Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.839677407Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.839698614Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.839733321Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.839741875Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.839759374Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.839775833Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.839810519Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.839819995Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.839827084Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.839848414Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.839863264Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.839902802Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.839911234Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.839943704Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.840069557Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T21:00:53.840077299Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-25T21:00:53.840106223Z stdout: \t... 19 more", "2022-01-25T21:00:53.840115808Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.840232762Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T21:00:53.840241122Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T21:00:53.840247615Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T21:00:53.840253404Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 6 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 4522f927b61d4a1aa2f927b61d6a1a90 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "4522f927b61d4a1aa2f927b61d6a1a90", "start": 1643144444125, "end": 1643144453835, "duration": 9710, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 9697 ], "imageName": "test.jpg", "startTimes": [ "2022-01-25 21:00:44.127" ] } }, "logs": [ "2022-01-25T21:00:44.127962617Z stdout: ExtractImageMetadata invoked", "2022-01-25T21:00:44.129061904Z stdout: Jan 25, 2022 9:00:44 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:00:44.129081878Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:00:53.824946613Z stdout: Database failure", "2022-01-25T21:00:53.82501458Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T21:00:53.825194494Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T21:00:53.825212485Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T21:00:53.825272686Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T21:00:53.825309988Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T21:00:53.825320103Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T21:00:53.825327355Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-25T21:00:53.825342828Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:00:53.825351251Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.825359557Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.825369365Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.825377036Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.825385834Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.825394734Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.825427684Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.825438018Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.825456897Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.82546783Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.825493664Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.825518322Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.825527754Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.825610943Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.825632219Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.825641327Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.834322068Z stdout: main function failed", "2022-01-25T21:00:53.834323365Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.834383669Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-25T21:00:53.834410545Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-25T21:00:53.834553745Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-25T21:00:53.834571717Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:00:53.834625924Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.834660648Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.834671234Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.834679493Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.834723148Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.834740224Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.834749536Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.834757815Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.834768006Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.834775749Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.834783242Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.834794041Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.834802453Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.834811944Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.834929Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.834940995Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.834956323Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.835119521Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T21:00:53.835124881Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-25T21:00:53.835131035Z stdout: \t... 19 more", "2022-01-25T21:00:53.835161003Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.835299724Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T21:00:53.835308603Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T21:00:53.83533986Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T21:00:53.835359427Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 4 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation b1a808109e9e4f13a808109e9e4f136a { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "b1a808109e9e4f13a808109e9e4f136a", "start": 1643144444622, "end": 1643144453837, "duration": 9215, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 9200 ], "imageName": "test.jpg", "startTimes": [ "2022-01-25 21:00:44.624" ] } }, "logs": [ "2022-01-25T21:00:44.624711035Z stdout: ExtractImageMetadata invoked", "2022-01-25T21:00:44.625794863Z stdout: Jan 25, 2022 9:00:44 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:00:44.62581923Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:00:53.824942901Z stdout: Database failure", "2022-01-25T21:00:53.825264205Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T21:00:53.825324614Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T21:00:53.825351852Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T21:00:53.825381282Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T21:00:53.825394913Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T21:00:53.825404493Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T21:00:53.825417123Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-25T21:00:53.825427805Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:00:53.825440111Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.825449775Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.825459161Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.825469914Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.825479669Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.825550501Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.825562439Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.825570711Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.825578767Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.825586558Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.825606785Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.82561722Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.825627313Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.825683275Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.825706536Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.825716916Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.835828576Z stdout: main function failed", "2022-01-25T21:00:53.835858999Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.835978261Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-25T21:00:53.835994766Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-25T21:00:53.836003795Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-25T21:00:53.836014036Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:00:53.836023204Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)", "2022-01-25T21:00:53.836032816Z stdout: \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)", "2022-01-25T21:00:53.836041843Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:00:53.836070213Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:00:53.83608027Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:00:53.836090138Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:00:53.836120627Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.836131778Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:00:53.836141501Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:00:53.836150454Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:00:53.836159994Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:00:53.836180834Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:00:53.836194743Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:00:53.836214457Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:00:53.836220708Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:00:53.836243178Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:00:53.836283108Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.836387295Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T21:00:53.836397552Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-25T21:00:53.836438264Z stdout: \t... 19 more", "2022-01-25T21:00:53.836445257Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:00:53.83654431Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T21:00:53.836552582Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T21:00:53.836558193Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T21:00:53.836564407Z stdout: \t... 20 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 6 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation f935868ad60947e2b5868ad609c7e25c { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "f935868ad60947e2b5868ad609c7e25c", "start": 1643144593438, "end": 1643144607353, "duration": 13915, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 4690, 0, 172 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "368590014932551", "startTimes": [ "2022-01-25 21:03:13.440", "2022-01-25 21:03:19.821", "2022-01-25 21:03:19.822", "2022-01-25 21:03:19.994" ] } }, "logs": [ "2022-01-25T21:03:13.440226229Z stdout: ExtractImageMetadata invoked", "2022-01-25T21:03:13.441249447Z stdout: Jan 25, 2022 9:03:13 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:03:13.441268566Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:03:19.82198917Z stdout: TransformMetadata invoked", "2022-01-25T21:03:19.822140602Z stdout: Handler invoked", "2022-01-25T21:03:19.822694516Z stdout: Jan 25, 2022 9:03:19 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:03:19.822713017Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:03:19.994758804Z stdout: Thumbnail invoked", "2022-01-25T21:03:19.995911486Z stdout: Jan 25, 2022 9:03:19 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:03:19.995931644Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:03:20.004570225Z stdout: Jan 25, 2022 9:03:20 PM com.cloudant.http.internal.Utils consumeStream", "2022-01-25T21:03:20.004598086Z stdout: WARNING: Consumed unused HTTP response error stream.", "2022-01-25T21:03:27.339521533Z stdout: Database failure", "2022-01-25T21:03:27.339542329Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T21:03:27.339869384Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T21:03:27.33988108Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T21:03:27.339887584Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T21:03:27.339893314Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T21:03:27.339898579Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T21:03:27.339904086Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-25T21:03:27.339910465Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T21:03:27.339915793Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-25T21:03:27.339920924Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:03:27.339926549Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:03:27.339932381Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:03:27.339937704Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:03:27.33994372Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:03:27.339949612Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:03:27.339956491Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:03:27.339968725Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:03:27.339975853Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:03:27.339990146Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:03:27.340046964Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:03:27.340069212Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:03:27.340078178Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:03:27.34008582Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:03:27.351835709Z stdout: main function failed", "2022-01-25T21:03:27.351847127Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:03:27.351950142Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T21:03:27.351984299Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-25T21:03:27.352048321Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T21:03:27.35207633Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-25T21:03:27.352085082Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:03:27.352102111Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:03:27.352110025Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:03:27.352117405Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:03:27.352150394Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:03:27.352175877Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:03:27.352184579Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:03:27.352191894Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:03:27.352234444Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:03:27.352251554Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:03:27.352260531Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:03:27.352269245Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:03:27.352277905Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:03:27.352300653Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:03:27.352316741Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:03:27.352417546Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T21:03:27.352430472Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T21:03:27.35243927Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T21:03:27.352464667Z stdout: \t... 17 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 4 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 3d8a96973ab847798a96973ab8977924 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "3d8a96973ab847798a96973ab8977924", "start": 1643144593930, "end": 1643144607423, "duration": 13493, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 4125, 0, 348 ], "extractedMetadata": { "creationTime": "2019:10:15 14:03:39", "dimensions": { "height": 3968, "width": 2976 }, "exifMake": "HUAWEI", "exifModel": "ALP-AL00", "fileSize": "2.26187MiB", "format": "image/jpeg", "geo": { "latitude": { "D": 31, "Direction": "N", "M": 1, "S": 27 }, "longitude": { "D": 121, "Direction": "E", "M": 26, "S": 15 } } }, "imageName": "test.jpg", "log": "368590717317979", "startTimes": [ "2022-01-25 21:03:13.932", "2022-01-25 21:03:19.534", "2022-01-25 21:03:19.535", "2022-01-25 21:03:19.883" ] } }, "logs": [ "2022-01-25T21:03:13.932595878Z stdout: ExtractImageMetadata invoked", "2022-01-25T21:03:13.93347555Z stdout: Jan 25, 2022 9:03:13 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:03:13.933511235Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:03:13.946203405Z stdout: Jan 25, 2022 9:03:13 PM com.cloudant.http.internal.Utils consumeStream", "2022-01-25T21:03:13.946250437Z stdout: WARNING: Consumed unused HTTP response error stream.", "2022-01-25T21:03:13.955320139Z stdout: Jan 25, 2022 9:03:13 PM com.cloudant.http.internal.Utils consumeStream", "2022-01-25T21:03:13.955365394Z stdout: WARNING: Consumed unused HTTP response error stream.", "2022-01-25T21:03:19.535104286Z stdout: TransformMetadata invoked", "2022-01-25T21:03:19.535330305Z stdout: Handler invoked", "2022-01-25T21:03:19.536042459Z stdout: Jan 25, 2022 9:03:19 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:03:19.536057608Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:03:19.883776569Z stdout: Thumbnail invoked", "2022-01-25T21:03:19.884705081Z stdout: Jan 25, 2022 9:03:19 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:03:19.88472837Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:03:27.340643752Z stdout: Database failure", "2022-01-25T21:03:27.340741865Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T21:03:27.341038413Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T21:03:27.341110655Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T21:03:27.341619993Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T21:03:27.34165204Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T21:03:27.341716244Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T21:03:27.341762473Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:319)", "2022-01-25T21:03:27.341897457Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T21:03:27.341927729Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-25T21:03:27.341972453Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:03:27.341992269Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:03:27.342008522Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:03:27.342061704Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:03:27.342125737Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:03:27.342147885Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:03:27.342208321Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:03:27.342245981Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:03:27.342260052Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:03:27.342296208Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:03:27.342367042Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:03:27.342383993Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:03:27.342423876Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:03:27.34246621Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:03:27.419609243Z stdout: main function failed", "2022-01-25T21:03:27.419655945Z stdout: org.im4java.core.CommandException: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:03:27.419716141Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T21:03:27.419729419Z stdout: \tat org.serverlessbench.ExtractImageMetadata.thumbnail(ExtractImageMetadata.java:346)", "2022-01-25T21:03:27.419743669Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:61)", "2022-01-25T21:03:27.4197581Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-25T21:03:27.419810358Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:03:27.419830189Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:03:27.419844984Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:03:27.419884435Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:03:27.419913394Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:03:27.419923672Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:03:27.419986978Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:03:27.420023499Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:03:27.420067113Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:03:27.420078393Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:03:27.420119833Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:03:27.420137295Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:03:27.420152443Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:03:27.420164591Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:03:27.420227722Z stdout: Caused by: org.im4java.core.CommandException: convert-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:03:27.420405237Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T21:03:27.420420065Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T21:03:27.420475487Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T21:03:27.420492377Z stdout: \t... 17 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 7 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation 310e738d760e4d978e738d760ead97bd { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "310e738d760e4d978e738d760ead97bd", "start": 1643144599951, "end": 1643144607355, "duration": 7404, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 7387 ], "imageName": "test.jpg", "startTimes": [ "2022-01-25 21:03:19.953" ] } }, "logs": [ "2022-01-25T21:03:19.95405196Z stdout: ExtractImageMetadata invoked", "2022-01-25T21:03:19.955688889Z stdout: Jan 25, 2022 9:03:19 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:03:19.955714224Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:03:27.340604905Z stdout: Database failure", "2022-01-25T21:03:27.34062379Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T21:03:27.340814751Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T21:03:27.340837098Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T21:03:27.340874969Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T21:03:27.34091673Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T21:03:27.340949631Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T21:03:27.340989721Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-25T21:03:27.341015603Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:03:27.341086033Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-25T21:03:27.34112086Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:03:27.341143706Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:03:27.341194363Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:03:27.341222034Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:03:27.341258711Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:03:27.341307226Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:03:27.341360841Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:03:27.34137148Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:03:27.341389111Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:03:27.341460263Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:03:27.341502025Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:03:27.341518099Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:03:27.341533832Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:03:27.341567686Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:03:27.353433471Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:03:27.35344084Z stdout: main function failed", "2022-01-25T21:03:27.353529973Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-25T21:03:27.353555041Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-25T21:03:27.353566483Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-25T21:03:27.353574514Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:03:27.353607899Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-25T21:03:27.353617939Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:03:27.353640405Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:03:27.35365331Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:03:27.353666886Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:03:27.353681149Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:03:27.353693173Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:03:27.353736939Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:03:27.353750077Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:03:27.353759627Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:03:27.35377791Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:03:27.353802154Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:03:27.353812054Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:03:27.353842335Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:03:27.353855996Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:03:27.353880743Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:03:27.353992555Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T21:03:27.354002415Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-25T21:03:27.354010363Z stdout: \t... 18 more", "2022-01-25T21:03:27.354039129Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:03:27.354143194Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T21:03:27.354152987Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T21:03:27.35418652Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T21:03:27.354198766Z stdout: \t... 19 more" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 7 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

ok: got activation e5fa999cc15844cfba999cc158f4cfd2 { "namespace": "guest", "name": "extractImageMetadata", "version": "0.0.32", "subject": "guest", "activationId": "e5fa999cc15844cfba999cc158f4cfd2", "start": 1643144600449, "end": 1643144607354, "duration": 6905, "statusCode": 0, "response": { "status": "success", "statusCode": 0, "success": true, "result": { "COUCHDB_DBNAME": "image_database", "COUCHDB_LOGDB": "dblogs", "COUCHDB_PASSWORD": "password", "COUCHDB_URL": "http://admin:password@10.104.74.31:5984", "COUCHDB_USERNAME": "admin", "commTimes": [ 6889 ], "imageName": "test.jpg", "startTimes": [ "2022-01-25 21:03:20.451" ] } }, "logs": [ "2022-01-25T21:03:20.451147988Z stdout: ExtractImageMetadata invoked", "2022-01-25T21:03:20.452194469Z stdout: Jan 25, 2022 9:03:20 PM com.cloudant.client.api.ClientBuilder build", "2022-01-25T21:03:20.452224432Z stdout: WARNING: DNS cache lifetime may be too long. DNS cache lifetimes in excess of 30 seconds may impede client operation during cluster failover.", "2022-01-25T21:03:27.340029341Z stdout: Database failure", "2022-01-25T21:03:27.340070573Z stdout: com.cloudant.client.org.lightcouch.CouchDbException: 500 Internal Server Error at http://10.104.74.31:5984/image_database/doc-test/test.jpg. Error: unknown_error. Reason: function_clause.", "2022-01-25T21:03:27.340089278Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDbClient.execute(CouchDbClient.java:597)", "2022-01-25T21:03:27.340100462Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:325)", "2022-01-25T21:03:27.340139512Z stdout: \tat com.cloudant.client.org.lightcouch.CouchDatabaseBase.getAttachment(CouchDatabaseBase.java:312)", "2022-01-25T21:03:27.340158614Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1219)", "2022-01-25T21:03:27.340184193Z stdout: \tat com.cloudant.client.api.Database.getAttachment(Database.java:1205)", "2022-01-25T21:03:27.340195372Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:121)", "2022-01-25T21:03:27.340228695Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:03:27.340240905Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-25T21:03:27.340367432Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:03:27.340392085Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:03:27.340403106Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:03:27.340413239Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:03:27.340423781Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:03:27.340433962Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:03:27.340449406Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:03:27.340459551Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:03:27.340469176Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:03:27.340482933Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:03:27.340494644Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:03:27.340511472Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:03:27.3405293Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:03:27.340546907Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:03:27.353541475Z stdout: org.im4java.core.InfoException: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:03:27.353605726Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:238)", "2022-01-25T21:03:27.353655867Z stdout: \tat org.im4java.core.Info.<init>(Info.java:149)", "2022-01-25T21:03:27.353678435Z stdout: \tat org.serverlessbench.ExtractImageMetadata.extractImageMetadata(ExtractImageMetadata.java:137)", "2022-01-25T21:03:27.353709615Z stdout: \tat org.serverlessbench.ExtractImageMetadata.main(ExtractImageMetadata.java:52)", "2022-01-25T21:03:27.353731009Z stdout: \tat sun.reflect.GeneratedMethodAccessor4.invoke(Unknown Source)", "2022-01-25T21:03:27.353760637Z stdout: \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)", "2022-01-25T21:03:27.353782767Z stdout: \tat java.lang.reflect.Method.invoke(Method.java:498)", "2022-01-25T21:03:27.353799704Z stdout: \tat org.apache.openwhisk.runtime.java.action.JarLoader.invokeMain(JarLoader.java:76)", "2022-01-25T21:03:27.353816701Z stdout: \tat org.apache.openwhisk.runtime.java.action.Proxy$RunHandler.handle(Proxy.java:157)", "2022-01-25T21:03:27.353834281Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:03:27.353852729Z stdout: \tat sun.net.httpserver.AuthFilter.doFilter(AuthFilter.java:83)", "2022-01-25T21:03:27.353868839Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:82)", "2022-01-25T21:03:27.353884242Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange$LinkHandler.handle(ServerImpl.java:675)", "2022-01-25T21:03:27.35390781Z stdout: \tat com.sun.net.httpserver.Filter$Chain.doFilter(Filter.java:79)", "2022-01-25T21:03:27.353937487Z stdout: \tat sun.net.httpserver.ServerImpl$Exchange.run(ServerImpl.java:647)", "2022-01-25T21:03:27.353956618Z stdout: \tat sun.net.httpserver.ServerImpl$DefaultExecutor.execute(ServerImpl.java:158)", "2022-01-25T21:03:27.353973821Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.handle(ServerImpl.java:431)", "2022-01-25T21:03:27.353990349Z stdout: \tat sun.net.httpserver.ServerImpl$Dispatcher.run(ServerImpl.java:396)", "2022-01-25T21:03:27.354006305Z stdout: \tat java.lang.Thread.run(Thread.java:823)", "2022-01-25T21:03:27.354022816Z stdout: Caused by: org.im4java.core.CommandException: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:03:27.354050003Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:219)", "2022-01-25T21:03:27.354068514Z stdout: \tat org.im4java.core.Info.getCompleteInfo(Info.java:207)", "2022-01-25T21:03:27.354085694Z stdout: \t... 18 more", "2022-01-25T21:03:27.354102887Z stdout: Caused by: org.im4java.core.CommandException: identify-im6.q16: insufficient image data in file `test.jpg' @ error/jpeg.c/ReadJPEGImage/1117.", "2022-01-25T21:03:27.354122918Z stdout: \tat org.im4java.core.ImageCommand.finished(ImageCommand.java:253)", "2022-01-25T21:03:27.354150799Z stdout: \tat org.im4java.process.ProcessStarter.run(ProcessStarter.java:314)", "2022-01-25T21:03:27.354173009Z stdout: \tat org.im4java.core.ImageCommand.run(ImageCommand.java:215)", "2022-01-25T21:03:27.354192259Z stdout: \t... 19 more", "2022-01-25T21:03:27.353552265Z stdout: main function failed" ], "annotations": [ { "key": "path", "value": "guest/extractImageMetadata" }, { "key": "waitTime", "value": 8 }, { "key": "kind", "value": "blackbox" }, { "key": "timeout", "value": false }, { "key": "limits", "value": { "concurrency": 1, "logs": 10, "memory": 256, "timeout": 60000 } } ], "publish": false }

